<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>&lt; Forrige | Neste &gt;</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="6 - pandas, filtrering, logikk og betingelser_files/libs/clipboard/clipboard.min.js"></script>
<script src="6 - pandas, filtrering, logikk og betingelser_files/libs/quarto-html/quarto.js"></script>
<script src="6 - pandas, filtrering, logikk og betingelser_files/libs/quarto-html/popper.min.js"></script>
<script src="6 - pandas, filtrering, logikk og betingelser_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="6 - pandas, filtrering, logikk og betingelser_files/libs/quarto-html/anchor.min.js"></script>
<link href="6 - pandas, filtrering, logikk og betingelser_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="6 - pandas, filtrering, logikk og betingelser_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="6 - pandas, filtrering, logikk og betingelser_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="6 - pandas, filtrering, logikk og betingelser_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="6 - pandas, filtrering, logikk og betingelser_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><a href="5%20-%20sympy.ipynb">&lt; Forrige</a> | <a href="7%20-%20løkker%20og%20simulering.ipynb">Neste &gt;</a></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><span style="color:#9bb1d4;font-size:30px;font-weight:900"> 6 - pandas, filtrering, logikk og betingelser </span></p>
<section id="logikk-og-betingelser" class="level1">
<h1>Logikk og betingelser</h1>
<p>Noe av det vi gjør oftest når vi programmerer er å teste om en betingelse er sann eller usann. Når testen er utført, kan programmet velge riktig vei å gå i fortsettelsen. Slik testing kalles “logikk”. Vi har allerede i innledningen vært inne på variabeltypen som avgjør om en test er sann eller usann, typen <code>bool</code>.</p>
<p>Sann eller usann (<code>True</code> og <code>False</code>) brukes som oftest sammen med en <code>if</code>-betingelse, slik som dette:</p>
<section id="eksempel-1" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-1">Eksempel 1:</h4>
<div class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">False</span>:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hei"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hå"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hå</code></pre>
</div>
</div>
<p>Vanligvis vil <code>if</code>-setningen inneholde en test som ikke er helt åpenbar, og som avhenger av input i en funksjon eller en variabel som er definert et annet sted i koden. Her er et eksempel på det første:</p>
</section>
<section id="eskempel-2" class="level4">
<h4 class="anchored" data-anchor-id="eskempel-2">Eskempel 2:</h4>
<div class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> did_I_win(s0,s1):</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> s1<span class="op">&gt;</span>s0:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"won!"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"lost"</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>PricePaid<span class="op">=</span><span class="dv">100</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>StockPriceToday<span class="op">=</span><span class="bu">int</span>(np.random.rand()<span class="op">*</span><span class="dv">200</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Bought for: </span><span class="sc">{</span>PricePaid<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Worth today: </span><span class="sc">{</span>StockPriceToday<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"You </span><span class="sc">{</span>did_I_win(PricePaid,StockPriceToday)<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bought for: 100
Worth today: 171
You won!</code></pre>
</div>
</div>
<p>Ofte vil du ønske å sammenligne ulike datasett, for eksempel to numpy-rekker. Dersom du skal ha en <code>if</code>-betingelse, må du imidlertid huske på at for å få ett svar på en sammenligning mellom to numpy-rekker, så må du angi på hvilken måte de skal sammenlignes. I utgangspunktet vil en slik sammenligning bare gi resultatet fra en sammenligning av hvert element i de to rekkene. Resultatet av sammenligningen er altså ikke en bolsk verdi (<code>bool</code>) men en ny rekke. En slik sammenligning vil derfor føre til en feil:</p>
</section>
<section id="eksempel-2" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-2">Eksempel 2:</h4>
<div class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>np.array([<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>])</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(a<span class="op">&gt;</span>b)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> a<span class="op">&gt;</span>b:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a was bigger than b'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[False False  True]</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()</code></pre>
</div>
</div>
<p>I stedet må vi angi hvordan den elementvise sammenligningen skal sammenfattes i et sant/usant-resultat. Vi kan da velge mellom å kreve at alle elementene er sanne med numpyfunksjonen <code>all()</code>, eller at minst ett av elementene er sanne med<code>any()</code>.</p>
</section>
<section id="eksempel-3" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-3">Eksempel 3:</h4>
<div class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> np.<span class="bu">any</span>(a<span class="op">&gt;</span>b):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'There were elements in a where the corresponding element in b was smaller'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">101</span>,<span class="dv">102</span>,<span class="dv">103</span>])</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> np.<span class="bu">all</span>(a<span class="op">&gt;</span>b):</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'All elements in a was bigger than the corresponding element in b'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>There were elements in a where the corresponding element in b was smaller
All elements in a was bigger than the corresponding element in b</code></pre>
</div>
</div>
<p>Ofte vil du ha bruk for å bruke flere vilkår for testen, der du enten krever at alle må være sanne, eller at det holder at én er sann, eller en kombinasjon. Det oppnår vi med <code>and</code> og <code>or</code>.</p>
<p>Et annet nyttig nøkkelord for logiske tester er <code>in</code>. Dette brukes på alt fra å finne ut om et objekt er i en liste eller annen datastruktur, til om en delstreng er i en streng. Her er et eksempel som bruker alle disse nøkkelordene i <code>if</code> og <code>elif</code>-setninger:</p>
</section>
<section id="eksempel-4" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-4">Eksempel 4:</h4>
<div class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>animal<span class="op">=</span><span class="st">'lion'</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>cats<span class="op">=</span>[<span class="st">'lion'</span>,<span class="st">'tiger'</span>,<span class="st">'puma'</span>,<span class="st">'lynx'</span>]</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>mammals<span class="op">=</span>[<span class="st">'human'</span>,<span class="st">'bear'</span>,<span class="st">'cat'</span>,<span class="st">'whale'</span>,<span class="st">'mouse'</span>]<span class="op">+</span>cats</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (animal <span class="kw">in</span> cats) <span class="kw">and</span> (animal <span class="kw">in</span> mammals):</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>animal<span class="sc">}</span><span class="ss"> is a cat and a mammal"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> (<span class="kw">not</span> animal <span class="kw">in</span> cats) <span class="kw">and</span> (animal <span class="kw">in</span> mammals):</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>animal<span class="sc">}</span><span class="ss"> is not a cat, but it is a mammal"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> (animal <span class="kw">in</span> cats) <span class="kw">and</span> (<span class="kw">not</span> animal <span class="kw">in</span> mammals):</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>animal<span class="sc">}</span><span class="ss"> is a cat, but not a mammal"</span>)   </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>animal<span class="sc">}</span><span class="ss"> is neither a cat nor a mammal"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lion is a cat and a mammal</code></pre>
</div>
</div>
<p>Legg merke til <code>elif</code> over. De er <code>if</code>-setninger som er knyttet til <code>if</code>-setningen over. Koden til en <code>elif</code>-setning kjøres dersom hverken <code>if</code>-setningen eller noen <code>elif</code>-setninger over har blitt tilfredsstilt.</p>
</section>
</section>
<section id="eksempel-med-datasett" class="level1">
<h1>Eksempel med datasett</h1>
<p>Vanligvis vil slike tester ligge inne i kode der det ikke er helt åpenbart hva variabelen du tester er. Dette er illustrert i eksemplet under, der variabelen bestemmes av innholdet i datasettet “schooling-gdp.csv”. Vi starter med å hente inn datasettet og plotte BNP per capita mot Utdanning:</p>
<section id="eksempel-5" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-5">Eksempel 5:</h4>
<div class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.read_csv(<span class="st">'./data/schooling-gdp.csv'</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df.plot.scatter(<span class="st">'BNP_per_capita'</span>,<span class="st">'Utdanning'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>&lt;AxesSubplot: xlabel='BNP_per_capita', ylabel='Utdanning'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-7-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Vi ser at sammenhengen virker mer usikker for når utdanningsnivået og BNP per capita er høyt. Vi kan derfor bruke en <code>if</code>-setning til å kun ta med land med høyt BNP per capita eller høyt utdanningsnivå. Vi ønsker også å kun se på andre land en Norge. Da kan vi for eksempel kjøre denne koden:</p>
</section>
<section id="eksempel-6" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-6">Eksempel 6:</h4>
<div class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>index_list<span class="op">=</span>[]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, (country,code,gdp_cap,edu,pop) <span class="kw">in</span> df.iterrows():</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (gdp_cap<span class="op">&gt;</span><span class="dv">20000</span> <span class="kw">and</span> country<span class="op">!=</span><span class="st">'Norway'</span>)  <span class="kw">or</span> edu<span class="op">&gt;</span><span class="dv">10</span>:</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        index_list.append(index)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>df_filtered<span class="op">=</span>df[df.index.isin(index_list)]</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>df_filtered.plot.scatter(<span class="st">'BNP_per_capita'</span>,<span class="st">'Utdanning'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<pre><code>&lt;AxesSubplot: xlabel='BNP_per_capita', ylabel='Utdanning'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-8-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="127">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>index_list<span class="op">=</span>[]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, (country,code,gdp_cap,edu,pop) <span class="kw">in</span> df.iterrows():</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (gdp_cap<span class="op">&gt;</span><span class="dv">20000</span> <span class="kw">and</span> country<span class="op">!=</span><span class="st">'Norway'</span>) :</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>        index_list.append(index)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>df_filtered<span class="op">=</span>df[df.index.isin(index_list)]</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>df_filtered.plot.scatter(<span class="st">'BNP_per_capita'</span>,<span class="st">'Utdanning'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>&lt;AxesSubplot: xlabel='BNP_per_capita', ylabel='Utdanning'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-9-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Her lager vi en liste, og legger til indeksen til hvert element i datarammen <code>df</code> som skal inkluderes. Vi velger så ut radene i datarammen med disse indeksene med <code>dataframe</code>-funksjonen <code>isin()</code>. Funksjonens navn kommer fra <em>is in</em>, så den tester altså om index_list er i datarammen <code>df</code>. Som vi ser, ser det ut til å være er det liten sammenheng mellom BNP per capita og utdanningsnivå for disse observasjonene.</p>
</section>
</section>
<section id="titlon" class="level1">
<h1>Titlon</h1>
<p>I eksemplet over leser Pandas dataene fra en fiil, men Pandas kan også hente data direkte fra en database på nettet. Vi skal først se hvordan vi kan hente data fra <code>titlon.uit.no</code>. Dette er en database som inneholder informasjon om aksjer, derviater og obligasjoner handlet på <a href="https://www.euronext.com/en/markets/oslo">Oslo Børs Euronext</a>.</p>
<p>Det første vi må gjøre er å hente en pakke som kan kommunisere med serveren. Vi skal bruke pymysql. Den er i utgangspunktet ikke installert her på uit’s jupyter-server, så det må vi gjøre selv. Det gjør du slik:</p>
<p>Åpne konsollen og skriv <code>pip install pymysql</code></p>
<p>For å hente data gjør du følgende:</p>
<p>På <a href="https://titlon.uit.no/">https://titlon.uit.no/</a> ligger det børsinformasjon fra Oslo Børs. For å hente data fra Titlon gjør du følgende:</p>
<ol type="1">
<li>gå inn på <a href="https://titlon.uit.no/">https://titlon.uit.no/</a></li>
<li>trykk på “Python”</li>
<li>logg inn (om du får en feilmelding etter innlogging følger du bare lenken over på nytt)</li>
<li>Kopierer teksten i tekstboksen</li>
<li>lim den inn under</li>
</ol>
<section id="eksempel-7" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-7">Eksempel 7:</h4>
<p>LES INSTRUKSJONENE OVER! KODEN UNDER KAN IKKE KJØRES UTEN VIDERE.</p>
<div class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Query script for MySQL client</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pymysql</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>con <span class="op">=</span> pymysql.<span class="ex">connect</span>(host<span class="op">=</span><span class="st">'titlon.uit.no'</span>, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                    user<span class="op">=</span><span class="st">"&lt;brukernavn&gt;"</span>, </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                    password<span class="op">=</span><span class="st">"Pw84hYehUu6V7sjf1r5aP"</span>, </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                    database<span class="op">=</span><span class="st">'OSE'</span>)  </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>crsr<span class="op">=</span>con.cursor()</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>crsr.execute(<span class="st">"""</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT  * FROM `OSE`.`equity` </span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="st">    WHERE (`ISIN` = 'NO0010279474') </span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="st">    AND year(`Date`) &gt;= 2000</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="st">    ORDER BY `Name`,`Date`</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span>)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>r<span class="op">=</span>crsr.fetchall()</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.DataFrame(<span class="bu">list</span>(r), columns<span class="op">=</span>[i[<span class="dv">0</span>] <span class="cf">for</span> i <span class="kw">in</span> crsr.description])</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="103">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">SecurityId</th>
<th data-quarto-table-cell-role="th">CompanyId</th>
<th data-quarto-table-cell-role="th">Symbol</th>
<th data-quarto-table-cell-role="th">ISIN</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">BestBidPrice</th>
<th data-quarto-table-cell-role="th">BestAskPrice</th>
<th data-quarto-table-cell-role="th">Open</th>
<th data-quarto-table-cell-role="th">High</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">lnDeltaOBX</th>
<th data-quarto-table-cell-role="th">NOWA_DayLnrate</th>
<th data-quarto-table-cell-role="th">bills_3month_Lnrate</th>
<th data-quarto-table-cell-role="th">Sector</th>
<th data-quarto-table-cell-role="th">IN_OSEBX</th>
<th data-quarto-table-cell-role="th">Equity</th>
<th data-quarto-table-cell-role="th">Debt</th>
<th data-quarto-table-cell-role="th">Earnings</th>
<th data-quarto-table-cell-role="th">debt_ratio</th>
<th data-quarto-table-cell-role="th">PE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2007-06-22</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>13.40</td>
<td>13.50</td>
<td>13.50</td>
<td>13.50</td>
<td>...</td>
<td>0.000000</td>
<td>0.000215</td>
<td>0.000198</td>
<td>Information Technology</td>
<td>0</td>
<td>9915000.0</td>
<td>13167000.0</td>
<td>-19778000.0</td>
<td>0.570445</td>
<td>-9.05332</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2007-06-25</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>12.75</td>
<td>13.15</td>
<td>13.50</td>
<td>13.50</td>
<td>...</td>
<td>-0.004561</td>
<td>0.000214</td>
<td>0.000199</td>
<td>Information Technology</td>
<td>0</td>
<td>9915000.0</td>
<td>13167000.0</td>
<td>-19778000.0</td>
<td>0.570445</td>
<td>-8.81860</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2007-06-27</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>12.75</td>
<td>13.50</td>
<td>13.00</td>
<td>13.00</td>
<td>...</td>
<td>-0.015125</td>
<td>0.000213</td>
<td>0.000199</td>
<td>Information Technology</td>
<td>0</td>
<td>9915000.0</td>
<td>13167000.0</td>
<td>-19778000.0</td>
<td>0.570445</td>
<td>-8.71801</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2007-06-28</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>12.50</td>
<td>13.00</td>
<td>13.00</td>
<td>13.00</td>
<td>...</td>
<td>0.025671</td>
<td>0.000213</td>
<td>0.000202</td>
<td>Information Technology</td>
<td>0</td>
<td>9915000.0</td>
<td>13167000.0</td>
<td>-19778000.0</td>
<td>0.570445</td>
<td>-8.71801</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2007-07-03</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>12.50</td>
<td>13.00</td>
<td>13.00</td>
<td>13.00</td>
<td>...</td>
<td>0.002780</td>
<td>0.000213</td>
<td>0.000203</td>
<td>Information Technology</td>
<td>0</td>
<td>9915000.0</td>
<td>13167000.0</td>
<td>-19778000.0</td>
<td>0.570445</td>
<td>-8.71801</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">803</td>
<td>2013-06-21</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>1.70</td>
<td>2.00</td>
<td>1.81</td>
<td>1.81</td>
<td>...</td>
<td>0.000669</td>
<td>0.000074</td>
<td>0.000066</td>
<td>Information Technology</td>
<td>0</td>
<td>5498000.0</td>
<td>60706000.0</td>
<td>-20093000.0</td>
<td>0.916954</td>
<td>-2.19938</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">804</td>
<td>2013-06-24</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>1.82</td>
<td>1.94</td>
<td>1.94</td>
<td>1.94</td>
<td>...</td>
<td>-0.029773</td>
<td>0.000074</td>
<td>0.000066</td>
<td>Information Technology</td>
<td>0</td>
<td>5498000.0</td>
<td>60706000.0</td>
<td>-20093000.0</td>
<td>0.916954</td>
<td>-2.50989</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">805</td>
<td>2013-06-25</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>2.00</td>
<td>2.05</td>
<td>1.94</td>
<td>2.00</td>
<td>...</td>
<td>0.017821</td>
<td>0.000072</td>
<td>0.000067</td>
<td>Information Technology</td>
<td>0</td>
<td>5498000.0</td>
<td>60706000.0</td>
<td>-20093000.0</td>
<td>0.916954</td>
<td>-2.58751</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">806</td>
<td>2013-06-26</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>1.95</td>
<td>2.05</td>
<td>2.00</td>
<td>2.05</td>
<td>...</td>
<td>0.010697</td>
<td>0.000072</td>
<td>0.000067</td>
<td>Information Technology</td>
<td>0</td>
<td>5498000.0</td>
<td>60706000.0</td>
<td>-20093000.0</td>
<td>0.916954</td>
<td>-2.58751</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">807</td>
<td>2013-06-27</td>
<td>66992</td>
<td>8380</td>
<td>TFSO</td>
<td>NO0010279474</td>
<td>24Seven Technology Group</td>
<td>1.80</td>
<td>2.00</td>
<td>1.90</td>
<td>2.00</td>
<td>...</td>
<td>-0.001409</td>
<td>0.000072</td>
<td>0.000067</td>
<td>Information Technology</td>
<td>0</td>
<td>5498000.0</td>
<td>60706000.0</td>
<td>-20093000.0</td>
<td>0.916954</td>
<td>-2.58751</td>
</tr>
</tbody>
</table>

<p>808 rows × 53 columns</p>
</div>
</div>
</div>
<p>Koden leser inn dataene til en pandas <code>dataframe</code>, eller dataramme. Denne er kalt <code>df</code> her. Om vi ser nærmere på koden, så ser vi at den gjør følgende:</p>
<ol type="1">
<li><p>lager et objekt <code>con</code> som representerer forbindelsen med databasen. Denne lages ved å bruke <code>connect()</code>-funksjonen til <code>pymysql</code>, som er en pakke for å hente data fra MySQL-databaser. Input er navn på server, brukernavn, passord (automatisk generert) og navn på database.</p></li>
<li><p>lager en streng <code>sql</code> med kommandoen til databasen, i SQL-språk</p></li>
<li><p>lager en <code>dataframe</code> som kalles <code>df</code> ved å bruke <code>read_sql_query</code>-funksjonen i pandas</p></li>
</ol>
<p>Før vi fortsetter er det kanskje greit å forklare hva SQL er. SQL er et språk laget spesifikt for å hente ut data fra dataabaser. Nesten alle databaser er SQL-basert. Syntaksen kan virke litt knotete, men kan være lurt å lære seg dette språket. En god SQL-spørring kan spare deg for mye programmering senere. Dette er imidlertid ikke et kurs i SQL, så vi går ikke nærmere inn på denne syntaksen her.</p>
<p>I tabellen vi henter, over, mangler endel variabler fordi det ikke er plass. For å se navnet på alle variablene kan du bruke <code>keys()</code>-funksjonen til datarammen:</p>
</section>
<section id="eksempel-8" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-8">Eksempel 8:</h4>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df.keys()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>Index(['Date', 'SecurityId', 'CompanyId', 'Symbol', 'ISIN', 'Name',
       'BestBidPrice', 'BestAskPrice', 'Open', 'High', 'Low', 'Close',
       'OfficialNumberOfTrades', 'OfficialVolume', 'UnofficialNumberOfTrades',
       'UnofficialVolume', 'VolumeWeightedAveragePrice', 'Price',
       'AdjustedPrice', 'Dividends', 'LDividends', 'CorpAdj', 'DividendAdj',
       'Currency', 'Description', 'CountryCode', 'SumAnnualDividends',
       'NumberOfShares', 'CompanyOwnedShares', 'OutstandingShares', 'Exchange',
       'NOKPerForex', 'mktcap', 'OSEBXmktshare_prevmnth',
       'OSEBXAlpha_prevmnth', 'OSEBXBeta_prevmnth', 'SMB', 'HML', 'LIQ', 'MOM',
       'DividendPriceRatio', 'lnDeltaP', 'lnDeltaOSEBX', 'lnDeltaOBX',
       'NOWA_DayLnrate', 'bills_3month_Lnrate', 'Sector', 'IN_OSEBX', 'Equity',
       'Debt', 'Earnings', 'debt_ratio', 'PE'],
      dtype='object')</code></pre>
</div>
</div>
<p>En dataframe ligner litt på en oppslagsliste. Du henter frem variabelen du vil bruke ved hjelp av hakeparenteser. I Titlondatabasen er avkastningen <code>lnDeltaP</code>, så la oss ta en kikk på på den:</p>
</section>
<section id="eksempel-9" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-9">Eksempel 9:</h4>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'lnDeltaP'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>0      0.000000
1      0.000000
2      0.028573
3     -0.043172
4      0.000000
         ...   
851   -0.012821
852   -0.026145
853    0.006601
854    0.008734
855    0.002172
Name: lnDeltaP, Length: 856, dtype: float64</code></pre>
</div>
</div>
<p>Det viser seg at i aksjemarkedet, så har aksjene en tendens til å bevege seg i samme retning. Går børsen først ned, så vil det gjelde de aller fleste aksjene på børsen. Gjennomsnittetlig avkastning for alle børsens aksjer måles av <em>børsindeksen</em>. I Titlon er børsindeksen lagt inn som en variabel for hvert selskap under navnet <code>lnDeltaOSEBX</code>. La oss derfor undersøke om det stemmer at det er en nær sammenheng mellom Equinors kurs og børsindeksen, ved hjelp av <code>matplotlib</code>:</p>
</section>
<section id="eksempel-10" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-10">Eksempel 10:</h4>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df.plot.scatter(<span class="st">'lnDeltaP'</span>,<span class="st">'lnDeltaOSEBX'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>&lt;AxesSubplot: xlabel='lnDeltaP', ylabel='lnDeltaOSEBX'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-13-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Du kan finne informasjon om andre aksjer enn Equinor om du vil. Koden under kjører en SQL-spørring som henter navnene på alle selskap i databasen etter 2018. Om du vil hente ut et annet selskap, kan du velge blant disse</p>
</section>
<section id="eksempel-11" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-11">Eksempel 11:</h4>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>sql<span class="op">=</span><span class="st">"SELECT distinct `Name`,`ISIN`,`SecurityId`,CompanyId FROM equity WHERE Year(`Date`)&gt;2018 ORDER BY `Name`"</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>companies <span class="op">=</span> pd.read_sql_query(sql, con)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(companies.values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\esi000\AppData\Local\Temp\ipykernel_25488\3379528039.py:2: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  companies = pd.read_sql_query(sql, con)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>[array(['2020 Bulkers', 'BMG9156K1018', 1304857, 12720], dtype=object),
 array(['5th Planet Games', 'DK0060945467', 1301972, 12440], dtype=object),
 array(['ABG Sundal Collier Holding', 'NO0003021909', 6085, 2017],
       dtype=object),
 array(['Adevinta', 'NO0010844038', 1304655, 12701], dtype=object),
 array(['Adevinta ser. A', 'NO0010843998', 1304652, 12701], dtype=object),
 array(['Aega', 'NO0010626559', 1251504, 11273], dtype=object),
 array(['AF Gruppen', 'NO0003078107', 27028, 6051], dtype=object),
 array(['African Petroleum Corporation', 'AU000000AOQ0', 1301079, 12300],
       dtype=object),
 array(['Agasti Holding', 'NO0003108102', 49006, 6806], dtype=object),
 array(['Akastor', 'NO0010215684', 56655, 7765], dtype=object),
 array(['Aker', 'NO0010234552', 57522, 6047], dtype=object),
 array(['Aker BP', 'NO0010345853', 66985, 8376], dtype=object),
 array(['Aker Philadelphia Shipyard', 'NO0010395577', 68945, 8462],
       dtype=object),
 array(['Aker Solutions', 'NO0010716582', 1301283, 12353], dtype=object),
 array(['AKVA Group', 'NO0003097503', 63319, 8194], dtype=object),
 array(['American Shipping Company', 'NO0010272065', 59576, 7954],
       dtype=object),
 array(['Apptix', 'NO0010123060', 51128, 7072], dtype=object),
 array(['Aqua Bio Technology', 'NO0010307135', 68900, 8465], dtype=object),
 array(['Aqualis', 'NO0010715394', 1301198, 12348], dtype=object),
 array(['Archer', 'BMG0451H1170', 1249973, 11216], dtype=object),
 array(['Arcus', 'NO0010776875', 1302776, 12523], dtype=object),
 array(['Arendals Fossekompani', 'NO0003572802', 6006, 1007], dtype=object),
 array(['Asetek', 'DK0060477263', 1300289, 11324], dtype=object),
 array(['Atea', 'NO0004822503', 6157, 2305], dtype=object),
 array(['Atlantic Petroleum', 'FO000A0DN9X4', 1300746, 11657], dtype=object),
 array(['Atlantic Sapphire', 'NO0010768500', 1304025, 12625], dtype=object),
 array(['Aurskog Sparebank', 'NO0006001601', 34079, 6131], dtype=object),
 array(['Austevoll Seafood', 'NO0010073489', 63004, 8163], dtype=object),
 array(['Avance Gas Holding', 'BMG067231032', 1300995, 12290], dtype=object),
 array(['Avocet Mining', 'GB00BZBVR613', 1249085, 11178], dtype=object),
 array(['Awilco Drilling', 'GB00B5LJSC86', 1250770, 11244], dtype=object),
 array(['Awilco LNG', 'NO0010607971', 1251293, 11268], dtype=object),
 array(['Axactor', 'NO0010840515', 28597, 6084], dtype=object),
 array(['Axxis Geo Solutions', 'NO0010778095', 1302814, 12534],
       dtype=object),
 array(['B2Holding', 'NO0010633951', 1302448, 12485], dtype=object),
 array(['Badger Explorer', 'NO0010283211', 65258, 8360], dtype=object),
 array(['Bakkafrost', 'FO0000000179', 81451, 8620], dtype=object),
 array(['Belships', 'NO0003094104', 6026, 2221], dtype=object),
 array(['Bergen Group', 'NO0010379779', 70904, 8495], dtype=object),
 array(['BerGenBio', 'NO0010650013', 1303054, 12550], dtype=object),
 array(['Bionor Pharma', 'NO0003106700', 45901, 6339], dtype=object),
 array(['Biotec Pharmacon', 'NO0010014632', 60209, 7963], dtype=object),
 array(['Birdstep Technology', 'NO0003095309', 51606, 7150], dtype=object),
 array(['Blom', 'NO0003679102', 6034, 2230], dtype=object),
 array(['Bonheur', 'NO0003110603', 6037, 2208], dtype=object),
 array(['Borgestad', 'NO0003111700', 6038, 2209], dtype=object),
 array(['Borr Drilling', 'BMG1466R2078', 1303306, 12565], dtype=object),
 array(['Borregaard', 'NO0010657505', 1270371, 11306], dtype=object),
 array(['Bouvet', 'NO0010360266', 65052, 8307], dtype=object),
 array(['BW Energy Limited', 'BMG0702P1086', 1305295, 12748], dtype=object),
 array(['BW LPG', 'BMG173841013', 1300695, 12241], dtype=object),
 array(['BW Offshore Limited', 'BMG1738J1247', 61979, 8108], dtype=object),
 array(['Byggma', 'NO0003087603', 26940, 6049], dtype=object),
 array(['ContextVision', 'SE0000371239', 23281, 6006], dtype=object),
 array(['ContextVision', 'SE0014731154', 23281, 6006], dtype=object),
 array(['Crayon Group Holding', 'NO0010808892', 1303474, 12400],
       dtype=object),
 array(['Cxense', 'NO0010671068', 1301162, 12305], dtype=object),
 array(['Data Respons', 'NO0003064107', 28775, 6085], dtype=object),
 array(['DNB', 'NO0010031479', 6059, 1772], dtype=object),
 array(['DNB OBX', 'NO0010257801', 58573, 7834], dtype=object),
 array(['DNO', 'NO0003921009', 6065, 1015], dtype=object),
 array(['DOF', 'NO0010070063', 46930, 6489], dtype=object),
 array(['EAM Solar', 'NO0010607781', 1300298, 11296], dtype=object),
 array(['Eidesvik Offshore', 'NO0010263023', 59496, 7942], dtype=object),
 array(['Electromagnetic Geoservices', 'NO0010358484', 64806, 8264],
       dtype=object),
 array(['Element', 'NO0003055808', 63613, 8201], dtype=object),
 array(['Elkem', 'NO0010816093', 1303941, 12616], dtype=object),
 array(['Entra', 'NO0010716418', 1301320, 12366], dtype=object),
 array(['Equinor', 'NO0010096985', 15578, 1309], dtype=object),
 array(['Europris', 'NO0010735343', 1301946, 12441], dtype=object),
 array(['EVRY', 'NO0010019649', 44547, 6176], dtype=object),
 array(['EVRY', 'NO0010019649', 1303207, 12559], dtype=object),
 array(['Fjord1', 'NO0010792625', 1303125, 12556], dtype=object),
 array(['Fjordkraft Holding', 'NO0010815673', 1303929, 12598], dtype=object),
 array(['FLEX LNG', 'BMG359472021', 79729, 8594], dtype=object),
 array(['Fred. Olsen Energy', 'NO0003089005', 27721, 6063], dtype=object),
 array(['Frontline', 'BMG3682E1921', 38027, 6117], dtype=object),
 array(['Funcom', 'NL0012756266', 60667, 7997], dtype=object),
 array(['Funcom', 'NO0010887029', 60667, 7997], dtype=object),
 array(['Gaming Innovation Group', 'US36467X2062', 58337, 7829],
       dtype=object),
 array(['GC Rieber Shipping', 'NO0010262686', 58609, 7837], dtype=object),
 array(['Gjensidige Forsikring', 'NO0010582521', 1249975, 11217],
       dtype=object),
 array(['Golden Ocean Group', 'BMG396372051', 1301610, 12424], dtype=object),
 array(['Goodtech', 'NO0004913609', 6105, 2312], dtype=object),
 array(['Grieg Seafood', 'NO0010365521', 65259, 8362], dtype=object),
 array(['Gyldendal', 'NO0004288200', 6108, 2269], dtype=object),
 array(['Hafnia Limited', 'BMG4233B1090', 1305074, 12741], dtype=object),
 array(['Havila Shipping', 'NO0010257728', 59268, 7928], dtype=object),
 array(['Havyard Group', 'NO0010708605', 1301163, 12289], dtype=object),
 array(['Helgeland Sparebank', 'NO0010029804', 45402, 6053], dtype=object),
 array(['Hexagon Composites', 'NO0003067902', 17151, 5203], dtype=object),
 array(['Höegh LNG Holdings', 'BMG454221059', 1251127, 11251], dtype=object),
 array(['Hofseth BioCare', 'NO0010598683', 1258882, 11280], dtype=object),
 array(['Høland og Setskog Sparebank', 'NO0010012636', 44223, 6171],
       dtype=object),
 array(['Ice Group', 'NO0010734742', 1304735, 12680], dtype=object),
 array(['IDEX', 'NO0003070609', 81220, 8606], dtype=object),
 array(['Indre Sogn Sparebank', 'NO0006000603', 17135, 5202], dtype=object),
 array(['Infront', 'NO0010789506', 1303390, 12561], dtype=object),
 array(['Insr Insurance Group', 'NO0010593544', 1300977, 12272],
       dtype=object),
 array(['InterOil Exploration and Production', 'NO0010284318', 62361, 8135],
       dtype=object),
 array(['Itera', 'NO0010001118', 39773, 6153], dtype=object),
 array(['Jæren Sparebank', 'NO0010359433', 65050, 6483], dtype=object),
 array(['Jinhui Shipping and Transportation', 'BMG5137R1088', 15440, 2446],
       dtype=object),
 array(['Kid', 'NO0010743545', 1302115, 12451], dtype=object),
 array(['Kitron', 'NO0003079709', 29719, 6098], dtype=object),
 array(['Klaveness Combination Carriers', 'NO0010833262', 1304742, 12197],
       dtype=object),
 array(['Komplett Bank', 'NO0010694029', 1303481, 12484], dtype=object),
 array(['Kongsberg Automotive', 'NO0003033102', 15825, 2518], dtype=object),
 array(['Kongsberg Automotive', 'NO0003033102', 59485, 7941], dtype=object),
 array(['Kongsberg Gruppen', 'NO0003043309', 6177, 2331], dtype=object),
 array(['Kværner', 'NO0010605371', 1251131, 11252], dtype=object),
 array(['Lerøy Seafood Group', 'NO0003096208', 51529, 7148], dtype=object),
 array(['Link Mobility Group Holding', 'NO0010894231', 1305713, 12811],
       dtype=object),
 array(['Magnora', 'NO0010187032', 58030, 7820], dtype=object),
 array(['Magseis', 'NO0010663669', 1301093, 12301], dtype=object),
 array(['Marine Harvest', 'NO0003054108', 16258, 5063], dtype=object),
 array(['Medistim', 'NO0010159684', 57018, 7774], dtype=object),
 array(['Melhus Sparebank', 'NO0006001908', 38026, 6147], dtype=object),
 array(['Mindex', 'NO0003055808', 16501, 5112], dtype=object),
 array(['MPC Container Ships', 'NO0010791353', 1303147, 12557],
       dtype=object),
 array(['Multiconsult', 'NO0010734338', 1301887, 12437], dtype=object),
 array(['Napatech', 'DK0060520450', 1300730, 12233], dtype=object),
 array(['NattoPharma', 'NO0010289200', 68905, 8447], dtype=object),
 array(['Navamedic', 'NO0010205966', 61513, 8063], dtype=object),
 array(['Nekkar', 'NO0003049405', 15900, 2525], dtype=object),
 array(['NEL', 'NO0010081235', 57456, 7795], dtype=object),
 array(['NEXT Biometrics Group', 'NO0010629108', 1301145, 12309],
       dtype=object),
 array(['NextGenTel Holding', 'NO0010199052', 61983, 8112], dtype=object),
 array(['NORBIT', 'NO0010856511', 1304825, 12714], dtype=object),
 array(['Nordic Mining', 'NO0010317340', 67633, 8123], dtype=object),
 array(['Nordic Nanovector', 'NO0010597883', 1301592, 12412], dtype=object),
 array(['Nordic Semiconductor', 'NO0003055501', 16511, 5117], dtype=object),
 array(['Norsk Hydro', 'NO0005052605', 6180, 1114], dtype=object),
 array(['Norske Skog', 'NO0010861115', 1305028, 12734], dtype=object),
 array(['North Energy', 'NO0010550056', 81219, 8605], dtype=object),
 array(['Northern Drilling', 'BMG6624L1090', 1303448, 12568], dtype=object),
 array(['Northern Ocean Ltd.', 'BMG6682J1036', 1305313, 12750],
       dtype=object),
 array(['Norway Royal Salmon', 'NO0010331838', 1250275, 11235],
       dtype=object),
 array(['Norwegian Air Shuttle', 'NO0010196140', 55463, 7628], dtype=object),
 array(['Norwegian Energy Company', 'NO0010379266', 68236, 8416],
       dtype=object),
 array(['Norwegian Finans Holding', 'NO0010387004', 1302477, 12494],
       dtype=object),
 array(['Norwegian Property', 'NO0010317811', 63318, 8191], dtype=object),
 array(['NTS', 'NO0004895103', 6169, 2311], dtype=object),
 array(['Observe Medical', 'NO0010865009', 1305053, 12733], dtype=object),
 array(['Ocean Yield', 'NO0010657448', 1300504, 11316], dtype=object),
 array(['Oceanteam', 'NO0010317316', 63829, 8229], dtype=object),
 array(['Odfjell Drilling', 'BMG671801022', 1300591, 12219], dtype=object),
 array(['Odfjell ser. A', 'NO0003399909', 6269, 2366], dtype=object),
 array(['Odfjell ser. B', 'NO0003399917', 6270, 2366], dtype=object),
 array(['OKEA', 'NO0010816895', 1304819, 12627], dtype=object),
 array(['Okeanis Eco Tankers', 'MHY641771016', 1304141, 12643],
       dtype=object),
 array(['Olav Thon Eiendomsselskap', 'NO0005638858', 6212, 1308],
       dtype=object),
 array(['Opera Software', 'NO0010040611', 56454, 7759], dtype=object),
 array(['Orkla', 'NO0003733800', 6214, 1107], dtype=object),
 array(['Panoro Energy', 'NO0010564701', 81450, 8624], dtype=object),
 array(['Pareto Bank', 'NO0010397581', 1302433, 8596], dtype=object),
 array(['PCI Biotech Holding', 'NO0010405640', 71329, 8502], dtype=object),
 array(['Petroleum Geo-Services', 'NO0010199151', 6220, 2342], dtype=object),
 array(['Petrolia', 'CY0102630916', 24518, 6018], dtype=object),
 array(['PetroNor E&amp;P Limited', 'AU0000057408', 1301079, 12300],
       dtype=object),
 array(['Pexip Holding', 'NO0010840507', 1305435, 12767], dtype=object),
 array(['Photocure', 'NO0010000045', 46096, 6357], dtype=object),
 array(['Pioneer Property Group', 'NO0010735681', 1301947, 12438],
       dtype=object),
 array(['Polarcus', 'KYG7153K1085', 79256, 8582], dtype=object),
 array(['Polaris Media', 'NO0010466022', 73803, 8537], dtype=object),
 array(['poLight', 'NO0010341712', 1304302, 12664], dtype=object),
 array(['Prosafe', 'NO0010861990', 24019, 6010], dtype=object),
 array(['Protector Forsikring', 'NO0010209331', 65045, 8322], dtype=object),
 array(['PSI Group', 'NO0010098247', 48772, 6793], dtype=object),
 array(['Q-Free', 'NO0003103103', 51098, 7065], dtype=object),
 array(['Questerre Energy Corporation', 'CA74836K1003', 59363, 7938],
       dtype=object),
 array(['RAK Petroleum', 'GB00BRGBL804', 1301358, 12373], dtype=object),
 array(['Reach Subsea', 'NO0003117202', 6195, 2319], dtype=object),
 array(['REC Silicon', 'NO0010112675', 61696, 8080], dtype=object),
 array(['RomReal', 'BMG763301022', 65262, 8353], dtype=object),
 array(['S.D. Standard Drilling', 'CY0101550917', 1250271, 11233],
       dtype=object),
 array(['Saga Pure', 'NO0010572589', 1249132, 11191], dtype=object),
 array(['SalMar', 'NO0010310956', 65055, 8288], dtype=object),
 array(['Salmones Camanchaca', 'CL0002409135', 1303837, 12593],
       dtype=object),
 array(['Sandnes Sparebank', 'NO0006001007', 16189, 5024], dtype=object),
 array(['SAS AB', 'SE0003366871', 48943, 1387], dtype=object),
 array(['SATS', 'NO0010863285', 1305040, 12737], dtype=object),
 array(['Sbanken', 'NO0010739402', 1302111, 12452], dtype=object),
 array(['Scana', 'NO0003053308', 16226, 5059], dtype=object),
 array(['Scanship Holding', 'NO0010708068', 1300985, 12294], dtype=object),
 array(['Scatec', 'NO0010715139', 1301292, 12354], dtype=object),
 array(['Schibsted', 'NO0003028904', 6240, 2354], dtype=object),
 array(['Schibsted ser. B', 'NO0010736879', 1301905, 2354], dtype=object),
 array(['SeaBird Exploration', 'CY0101162119', 61088, 8025], dtype=object),
 array(['Seadrill', 'BMG7998G1069', 1304153, 7968], dtype=object),
 array(['Self Storage Group', 'NO0010781206', 1303451, 12578], dtype=object),
 array(['Selvaag Bolig', 'NO0010612450', 1267552, 11291], dtype=object),
 array(['Shelf Drilling', 'KYG236271055', 1304120, 12640], dtype=object),
 array(['Siem Offshore', 'KYG813131011', 60065, 7956], dtype=object),
 array(['Skue Sparebank', 'NO0006001809', 37518, 6143], dtype=object),
 array(['Solstad Farstad', 'NO0003080608', 27953, 6066], dtype=object),
 array(['SpareBank 1 BV', 'NO0006000207', 15145, 2352], dtype=object),
 array(['SpareBank 1 Nord-Norge', 'NO0006000801', 15121, 1972],
       dtype=object),
 array(['SpareBank 1 Nordvest', 'NO0010691660', 1303395, 1823],
       dtype=object),
 array(['SpareBank 1 Østfold Akershus', 'NO0010285562', 60387, 5195],
       dtype=object),
 array(['SpareBank 1 Østlandet', 'NO0010751910', 1303168, 5204],
       dtype=object),
 array(['SpareBank 1 Ringerike Hadeland', 'NO0006390400', 16545, 5125],
       dtype=object),
 array(['SpareBank 1 SMN', 'NO0006390301', 15120, 1695], dtype=object),
 array(['SpareBank 1 SR-Bank', 'NO0010631567', 1264688, 1797], dtype=object),
 array(['Sparebanken Møre', 'NO0006390004', 6163, 1652], dtype=object),
 array(['Sparebanken Øst', 'NO0006222009', 6073, 1636], dtype=object),
 array(['Sparebanken Sør', 'NO0006001502', 34078, 1814], dtype=object),
 array(['Sparebanken Telemark', 'NO0010664782', 1304311, 8332],
       dtype=object),
 array(['Sparebanken Vest', 'NO0006000900', 15669, 1642], dtype=object),
 array(['Spectrum', 'NO0010429145', 71330, 8507], dtype=object),
 array(['Star Bulk Carriers', 'MHY8162K2046', 1304148, 12642], dtype=object),
 array(['Stolt-Nielsen', 'BMG850801025', 16466, 5097], dtype=object),
 array(['Storebrand', 'NO0003053605', 6288, 1955], dtype=object),
 array(['Storm Real Estate', 'NO0010360175', 1249133, 11189], dtype=object),
 array(['Subsea 7', 'LU0075646355', 25289, 6030], dtype=object),
 array(['Targovax', 'NO0010689326', 1302524, 12499], dtype=object),
 array(['Team Tankers International', 'BMG870871057', 1301566, 12413],
       dtype=object),
 array(['Telenor', 'NO0010063308', 47454, 6233], dtype=object),
 array(['TGS-NOPEC Geophysical Company', 'NO0003078800', 28494, 6070],
       dtype=object),
 array(['The Scottish Salmon Company', 'JE00B61ZHN74', 81453, 8623],
       dtype=object),
 array(['Thin Film Electronics', 'NO0010299068', 68907, 8458], dtype=object),
 array(['TietoEVRY', 'FI0009000277', 1305127, 12743], dtype=object),
 array(['Tomra Systems', 'NO0005668905', 6282, 2392], dtype=object),
 array(['Totens Sparebank', 'NO0006001205', 16224, 1662], dtype=object),
 array(['Treasure', 'NO0010763550', 1302445, 12495], dtype=object),
 array(['Ultimovacs', 'NO0010851603', 1304776, 12711], dtype=object),
 array(['Veidekke', 'NO0005806802', 6296, 2400], dtype=object),
 array(['Vistin Pharma', 'NO0010734122', 1301918, 12436], dtype=object),
 array(['Voss Veksel- og Landmandsbank', 'NO0003025009', 6306, 2403],
       dtype=object),
 array(['Wallenius Wilhelmsen', 'NO0010571680', 1249129, 11186],
       dtype=object),
 array(['Webstep', 'NO0010609662', 1303418, 12575], dtype=object),
 array(['Wentworth Resources', 'JE00BGT34J81', 59574, 7953], dtype=object),
 array(['Wilh. Wilhelmsen Holding ser. A', 'NO0010571698', 6310, 2405],
       dtype=object),
 array(['Wilh. Wilhelmsen Holding ser. B', 'NO0010576010', 6311, 2405],
       dtype=object),
 array(['Wilson', 'NO0010252356', 58630, 7915], dtype=object),
 array(['XACT OBX', 'SE0009723026', 58840, 7918], dtype=object),
 array(['XACT OBX  Bear', 'SE0009723000', 69842, 7918], dtype=object),
 array(['XACT OBX Bull', 'SE0009723034', 69843, 7918], dtype=object),
 array(['XXL', 'NO0010716863', 1301298, 12357], dtype=object),
 array(['Yara International', 'NO0010208051', 56559, 7760], dtype=object),
 array(['Zalaris', 'NO0010708910', 1301140, 12310], dtype=object)]</code></pre>
</div>
</div>
</section>
</section>
<section id="lage-graf-med-flere-serier-der-alle-har-startverdi-100" class="level1">
<h1>Lage graf med flere serier, der alle har startverdi 100</h1>
<p>La oss se nærmere på tre av selskapene, og plott dem sammen. Vi bruker en SQL <code>WHERE</code>-betingelse til å begrense utvalget til de tre selskapene som er nevnt og til datoer etter 2000. Så tar vi også med i SQL-setningen en sortering på dato:</p>
<section id="eksempel-12" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-12">Eksempel 12:</h4>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sql<span class="op">=</span>(<span class="st">"SELECT distinct Name,date, AdjustedPrice FROM equity "</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WHERE (Name='Equinor' OR Name='Tomra Systems' OR Name='DNB') "</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AND `Date`&gt;'2000-01-01'"</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ORDER BY `Date`"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vi kan nå kjøre denne spørringen mot Titlon:</p>
</section>
<section id="eksempel-13" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-13">Eksempel 13:</h4>
<div class="cell" data-tags="[]" data-execution_count="30">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.read_sql_query(sql, con)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\esi000\AppData\Local\Temp\ipykernel_25488\1427550990.py:1: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df=pd.read_sql_query(sql, con)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">AdjustedPrice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>DNB</td>
<td>2000-01-03</td>
<td>13.5376</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Tomra Systems</td>
<td>2000-01-03</td>
<td>48.2225</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>DNB</td>
<td>2000-01-04</td>
<td>13.0850</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Tomra Systems</td>
<td>2000-01-04</td>
<td>47.5133</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>DNB</td>
<td>2000-01-05</td>
<td>12.6735</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15376</td>
<td>Equinor</td>
<td>2020-11-26</td>
<td>143.7500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15377</td>
<td>Tomra Systems</td>
<td>2020-11-26</td>
<td>382.8000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15378</td>
<td>DNB</td>
<td>2020-11-27</td>
<td>163.5500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15379</td>
<td>Equinor</td>
<td>2020-11-27</td>
<td>146.8500</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15380</td>
<td>Tomra Systems</td>
<td>2020-11-27</td>
<td>386.1000</td>
</tr>
</tbody>
</table>

<p>15381 rows × 3 columns</p>
</div>
</div>
</div>
<p>Dataene ligger nå i “lengdeformat”. Det vil si at selskapene ligger etterhverandre i en lang tabell. Om vi ønsker å sammenligne utviklingen kan det være en fordel å få prisene i hvert selskap i en egen kolonne. Det gjør vi slik:</p>
</section>
<section id="eksempel-14" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-14">Eksempel 14:</h4>
<div class="cell" data-jupyter="{&quot;source_hidden&quot;:true}" data-tags="[]" data-execution_count="31">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>df.pivot(index<span class="op">=</span><span class="st">'date'</span>, columns<span class="op">=</span><span class="st">'Name'</span>, values<span class="op">=</span><span class="st">'AdjustedPrice'</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">DNB</th>
<th data-quarto-table-cell-role="th">Equinor</th>
<th data-quarto-table-cell-role="th">Tomra Systems</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2000-01-03</td>
<td>13.5376</td>
<td>NaN</td>
<td>48.2225</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2000-01-04</td>
<td>13.0850</td>
<td>NaN</td>
<td>47.5133</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2000-01-05</td>
<td>12.6735</td>
<td>NaN</td>
<td>46.0950</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2000-01-06</td>
<td>12.5500</td>
<td>NaN</td>
<td>45.3859</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2000-01-07</td>
<td>12.5500</td>
<td>NaN</td>
<td>46.6269</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-23</td>
<td>159.0000</td>
<td>141.25</td>
<td>370.2000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-11-24</td>
<td>163.8000</td>
<td>148.65</td>
<td>371.6000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-25</td>
<td>164.1000</td>
<td>145.75</td>
<td>376.8000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-11-26</td>
<td>162.5000</td>
<td>143.75</td>
<td>382.8000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-27</td>
<td>163.5500</td>
<td>146.85</td>
<td>386.1000</td>
</tr>
</tbody>
</table>

<p>5248 rows × 3 columns</p>
</div>
</div>
</div>
<p>Equinor ble imidlertid ikke børsnotert før i 2001. I alle observasjoner før børsnoteringen står det derfor <code>NaN</code>, hvilket betyr “ingen observasjon”. For å kunne sammenligne må alle tre aksjene være observert på hver dato. Vi kan oppnå dette med funksjonen <code>dropna()</code>:</p>
</section>
<section id="eksempel-15" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-15">Eksempel 15:</h4>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>df.dropna()</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">DNB</th>
<th data-quarto-table-cell-role="th">Equinor</th>
<th data-quarto-table-cell-role="th">Tomra Systems</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-06-18</td>
<td>17.8950</td>
<td>28.1166</td>
<td>117.493</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2001-06-19</td>
<td>17.9867</td>
<td>28.5241</td>
<td>108.236</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-06-20</td>
<td>18.3997</td>
<td>28.9315</td>
<td>108.948</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2001-06-21</td>
<td>18.2620</td>
<td>28.5241</td>
<td>103.608</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-06-22</td>
<td>18.3079</td>
<td>28.3203</td>
<td>100.759</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-23</td>
<td>159.0000</td>
<td>141.2500</td>
<td>370.200</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-11-24</td>
<td>163.8000</td>
<td>148.6500</td>
<td>371.600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-25</td>
<td>164.1000</td>
<td>145.7500</td>
<td>376.800</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-11-26</td>
<td>162.5000</td>
<td>143.7500</td>
<td>382.800</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-27</td>
<td>163.5500</td>
<td>146.8500</td>
<td>386.100</td>
</tr>
</tbody>
</table>

<p>4885 rows × 3 columns</p>
</div>
</div>
</div>
<p>Vi ser nå at de tomme cellene er borte. Equinor ble altså børsnotert 18. juni 2001.</p>
<p>For å kunne sammenligne selskapenes utvikling bedre, bør de starte på samme tidspunkt. For å gjøre det deler vi alle observasjonene på den første. For å dele observasjoner på noe, bruker vi <code>div()</code>-funksjonen til datarammen. Vi skal dele på første rad, som er <code>df.iloc[0]</code>. Så multipliserer vi det hele med 100:</p>
</section>
<section id="eksempel-16" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-16">Eksempel 16:</h4>
<div class="cell" data-scrolled="true" data-execution_count="33">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span><span class="dv">100</span><span class="op">*</span>df.div(df.iloc[<span class="dv">0</span>])</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">DNB</th>
<th data-quarto-table-cell-role="th">Equinor</th>
<th data-quarto-table-cell-role="th">Tomra Systems</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-06-18</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2001-06-19</td>
<td>100.512434</td>
<td>101.449322</td>
<td>92.121233</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-06-20</td>
<td>102.820341</td>
<td>102.898288</td>
<td>92.727226</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2001-06-21</td>
<td>102.050852</td>
<td>101.449322</td>
<td>88.182275</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-06-22</td>
<td>102.307348</td>
<td>100.724483</td>
<td>85.757449</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-23</td>
<td>888.516345</td>
<td>502.372264</td>
<td>315.082601</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-11-24</td>
<td>915.339480</td>
<td>528.691236</td>
<td>316.274161</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-25</td>
<td>917.015926</td>
<td>518.377044</td>
<td>320.699957</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-11-26</td>
<td>908.074881</td>
<td>511.263809</td>
<td>325.806644</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-11-27</td>
<td>913.942442</td>
<td>522.289324</td>
<td>328.615322</td>
</tr>
</tbody>
</table>

<p>4885 rows × 3 columns</p>
</div>
</div>
</div>
<p>Vi ser nå at alle aksjene starter på 100 den datoen Equinor ble børsnotert. Hvilet selskap har vært det beste å investere i? Hvilket har vært verst?</p>
<p>Vi kan nå plotte utviklingen. Når vi jobber med pandas, er det best å bruke den innebygde <code>plot()</code>-funksjonen i pakken. Da får vi automatisk riktige etiketter:</p>
</section>
<section id="eksempel-17" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-17">Eksempel 17:</h4>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>ax<span class="op">=</span>df.plot()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">'upper left'</span>,frameon<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>&lt;matplotlib.legend.Legend at 0x1842f9fa350&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-20-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="eurostat" class="level1">
<h1>Eurostat</h1>
<p>Eurostat er en veldig nyttig kilde til data. De har et stort utvalg av data på europeiske land. De har laget en egen pakke til python som ikke overraskende heter <code>eurostat</code>. Denne pakken er heller ikke installert i utgangspunktet på jupyter.uit.no. Dere må derfor åpne “Terminal” og kjøre <code>pip install eurostat</code> for å kjøre den.</p>
<p>For å se hvilke tabeller som er der, henter vi innholdsfortegnelsen (table of contents) med funksjonen <code>get_toc_df</code>. Det gir oss en <code>pandas</code> dataramme:</p>
<section id="eksempel-18" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-18">Eksempel 18:</h4>
<div class="cell" data-scrolled="true" data-execution_count="180">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> eurostat</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>toc <span class="op">=</span> eurostat.get_toc_df()</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>toc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="180">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">code</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">last update of data</th>
<th data-quarto-table-cell-role="th">last table structure change</th>
<th data-quarto-table-cell-role="th">data start</th>
<th data-quarto-table-cell-role="th">data end</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_NL</td>
<td>dataset</td>
<td>2010-02-26T23:00:00+0100</td>
<td>2023-07-28T23:00:00+0200</td>
<td>1997-Q1</td>
<td>2022-Q4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_NO</td>
<td>dataset</td>
<td>2010-02-26T23:00:00+0100</td>
<td>2023-07-28T23:00:00+0200</td>
<td>2002-Q1</td>
<td>2021-Q4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_PL</td>
<td>dataset</td>
<td>2023-09-12T11:00:00+0200</td>
<td>2023-09-12T11:00:00+0200</td>
<td>2004-Q1</td>
<td>2023-Q1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_PT</td>
<td>dataset</td>
<td>2023-09-19T11:00:00+0200</td>
<td>2023-09-19T11:00:00+0200</td>
<td>2000-Q1</td>
<td>2023-Q1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_SE</td>
<td>dataset</td>
<td>2010-02-26T23:00:00+0100</td>
<td>2023-07-28T23:00:00+0200</td>
<td>1997-Q1</td>
<td>2022-Q4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7545</td>
<td>Percentage of letters delivered on-time (USP u...</td>
<td>POST_CUBE1_X$POST_QOS_1</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7546</td>
<td>Postal services</td>
<td>POST_CUBE1_X</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>2012</td>
<td>2021</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7547</td>
<td>Number of enterprises providing postal services</td>
<td>POST_CUBE1_X$NUM701</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7548</td>
<td>Access points (USP under direct or indirect d...</td>
<td>POST_CUBE1_X$POST_ACC_1</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7549</td>
<td>Domestic postal traffic, letter mail and parce...</td>
<td>POST_CUBE1_X$POST_DTR_1</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>

<p>7550 rows × 7 columns</p>
</div>
</div>
</div>
<p>Du kan finne hvor mange tabeller det er med <code>len(toc)</code>, og det er i skrivende stund over ti tusen tabeller. Det blir litt krevende å lete gjennom alle, så vi ønsker derfor å begrense antall tabeller til de som er relevante. Anta at vi ønsker å se på utviklingen i BNP per innbygger for landene som er med i statistikken. Nærmere bestemt, vi ønsker å finne alle tabeller der <code>'GDP per capita'</code> er i tittelen.</p>
<p>BNP per innbygger er hvor mye hver person i landet i gjennomsnitt produserer i løpet av ett år.</p>
<p>Vi gjør dette ved å lage følgende “list comprehension”: <code>['GDP per capita' in i for i in toc['title']]</code>. Elementene i denne listen er sant (<code>True</code>) dersom ‘GDP per capita’ er i tittelen, og usant (<code>false</code>) om det ikke er i tittelen.</p>
</section>
<section id="eksempel-19" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-19">Eksempel 19:</h4>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>gdp_in_toc_list<span class="op">=</span>[<span class="st">'GDP per capita'</span> <span class="kw">in</span> i <span class="cf">for</span> i <span class="kw">in</span> toc[<span class="st">'title'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vi kan så velge de elementene hvor betingelsen er sann ved å sette listen inn i en klammeparentes etter innholdsfortegnelsen, <code>toc[gdp_in_toc_list]</code>. Kun de elementene i innholdsfortegnelsen der det står sant (<code>True</code>) i listen, tas da med.</p>
</section>
<section id="eksempel-20" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-20">Eksempel 20:</h4>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#collecting only the tables where 'GDP per capita' is in the name</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>toc_gdp<span class="op">=</span>toc[gdp_in_toc_list]</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>toc_gdp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">code</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">last update of data</th>
<th data-quarto-table-cell-role="th">last table structure change</th>
<th data-quarto-table-cell-role="th">data start</th>
<th data-quarto-table-cell-role="th">data end</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5486</td>
<td>GDP per capita in PPS</td>
<td>TEC00114</td>
<td>dataset</td>
<td>2023-06-21T23:00:00+0200</td>
<td>2023-06-21T23:00:00+0200</td>
<td>2011</td>
<td>2022</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6444</td>
<td>Real GDP per capita</td>
<td>SDG_08_10</td>
<td>dataset</td>
<td>2023-10-12T11:00:00+0200</td>
<td>2023-10-12T11:00:00+0200</td>
<td>2000</td>
<td>2022</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6478</td>
<td>Purchasing power adjusted GDP per capita</td>
<td>SDG_10_10</td>
<td>dataset</td>
<td>2023-06-21T23:00:00+0200</td>
<td>2023-06-21T23:00:00+0200</td>
<td>2000</td>
<td>2022</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>La oss nå se på tabellen “Purchasing power adjusted GDP per capita”, som har kode ‘sdg_10_10’. Da bruker vi funksjonen <code>get_data_df</code> med tabellkoden som argument:</p>
</section>
<section id="eksempel-21" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-21">Eksempel 21:</h4>
<div class="cell" data-execution_count="201">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>gdp_data <span class="op">=</span> eurostat.get_data_df(<span class="st">'sdg_10_10'</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>gdp_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="201">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">freq</th>
<th data-quarto-table-cell-role="th">na_item</th>
<th data-quarto-table-cell-role="th">ppp_cat</th>
<th data-quarto-table-cell-role="th">unit</th>
<th data-quarto-table-cell-role="th">geo\TIME_PERIOD</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2022</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A</td>
<td>CV_VI_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EA19</td>
<td>45.9</td>
<td>44.2</td>
<td>43.2</td>
<td>41.6</td>
<td>41.8</td>
<td>...</td>
<td>43.3</td>
<td>43.7</td>
<td>44.8</td>
<td>44.1</td>
<td>42.7</td>
<td>41.5</td>
<td>39.9</td>
<td>42.8</td>
<td>44.4</td>
<td>44.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A</td>
<td>CV_VI_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EA20</td>
<td>47.6</td>
<td>45.7</td>
<td>44.5</td>
<td>42.9</td>
<td>43.0</td>
<td>...</td>
<td>44.1</td>
<td>44.7</td>
<td>45.8</td>
<td>44.9</td>
<td>43.5</td>
<td>42.3</td>
<td>40.6</td>
<td>43.6</td>
<td>44.9</td>
<td>44.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>A</td>
<td>CV_VI_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU27_2007</td>
<td>49.8</td>
<td>48.0</td>
<td>46.8</td>
<td>45.2</td>
<td>44.9</td>
<td>...</td>
<td>43.0</td>
<td>43.1</td>
<td>44.1</td>
<td>43.2</td>
<td>41.8</td>
<td>40.5</td>
<td>38.7</td>
<td>40.9</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>A</td>
<td>CV_VI_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU27_2020</td>
<td>51.8</td>
<td>49.9</td>
<td>48.5</td>
<td>46.8</td>
<td>46.5</td>
<td>...</td>
<td>44.4</td>
<td>44.6</td>
<td>45.5</td>
<td>44.6</td>
<td>43.1</td>
<td>41.7</td>
<td>39.8</td>
<td>42.1</td>
<td>43.2</td>
<td>42.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>A</td>
<td>CV_VI_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU28</td>
<td>50.6</td>
<td>48.8</td>
<td>47.5</td>
<td>45.8</td>
<td>45.5</td>
<td>...</td>
<td>43.5</td>
<td>43.7</td>
<td>44.6</td>
<td>43.7</td>
<td>42.2</td>
<td>41.1</td>
<td>39.6</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">88</td>
<td>A</td>
<td>VI_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SI</td>
<td>81.0</td>
<td>82.0</td>
<td>83.0</td>
<td>85.0</td>
<td>88.0</td>
<td>...</td>
<td>83.0</td>
<td>83.0</td>
<td>83.0</td>
<td>84.0</td>
<td>86.0</td>
<td>87.0</td>
<td>89.0</td>
<td>89.0</td>
<td>90.0</td>
<td>92.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">89</td>
<td>A</td>
<td>VI_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SK</td>
<td>51.0</td>
<td>53.0</td>
<td>55.0</td>
<td>57.0</td>
<td>59.0</td>
<td>...</td>
<td>78.0</td>
<td>78.0</td>
<td>79.0</td>
<td>73.0</td>
<td>71.0</td>
<td>70.0</td>
<td>71.0</td>
<td>72.0</td>
<td>71.0</td>
<td>68.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">90</td>
<td>A</td>
<td>VI_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>TR</td>
<td>43.0</td>
<td>39.0</td>
<td>38.0</td>
<td>39.0</td>
<td>42.0</td>
<td>...</td>
<td>62.0</td>
<td>65.0</td>
<td>68.0</td>
<td>66.0</td>
<td>66.0</td>
<td>63.0</td>
<td>59.0</td>
<td>61.0</td>
<td>63.0</td>
<td>69.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">91</td>
<td>A</td>
<td>VI_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>UK</td>
<td>120.0</td>
<td>120.0</td>
<td>120.0</td>
<td>123.0</td>
<td>124.0</td>
<td>...</td>
<td>111.0</td>
<td>111.0</td>
<td>111.0</td>
<td>109.0</td>
<td>108.0</td>
<td>106.0</td>
<td>104.0</td>
<td>100.0</td>
<td>101.0</td>
<td>100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">92</td>
<td>A</td>
<td>VI_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>US</td>
<td>164.0</td>
<td>160.0</td>
<td>156.0</td>
<td>159.0</td>
<td>161.0</td>
<td>...</td>
<td>147.0</td>
<td>148.0</td>
<td>148.0</td>
<td>142.0</td>
<td>140.0</td>
<td>140.0</td>
<td>136.0</td>
<td>138.0</td>
<td>143.0</td>
<td>141.0</td>
</tr>
</tbody>
</table>

<p>93 rows × 28 columns</p>
</div>
</div>
</div>
<p>Tabellen inneholder imidlertid endel data vi ikke ønsker å ha med. For det første ønsker vi kun å ta med tilfellene der feltet “na_item” er lik ‘EXP_PPS_EU27_2020_HAB’, for det andre er her dataene til hvert enkelt land ligger. Dette gjør vi på samme måte som over med listen <code>gdp_data['na_item']=='EXP_PPS_EU27_2020_HAB'</code>, som er sann når “na_item” er lik ‘EXP_PPS_EU27_2020_HAB’. Setter vi inn denne listen i klammeparentes etter <code>gdp_data</code> får vi en filtrert liste:</p>
</section>
<section id="eksempel-22" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-22">Eksempel 22:</h4>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>gdp_data <span class="op">=</span> gdp_data[gdp_data[<span class="st">'na_item'</span>]<span class="op">==</span><span class="st">'EXP_PPS_EU27_2020_HAB'</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>gdp_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">freq</th>
<th data-quarto-table-cell-role="th">na_item</th>
<th data-quarto-table-cell-role="th">ppp_cat</th>
<th data-quarto-table-cell-role="th">unit</th>
<th data-quarto-table-cell-role="th">geo\TIME_PERIOD</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2022</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>AL</td>
<td>3200.0</td>
<td>3600.0</td>
<td>3800.0</td>
<td>4100.0</td>
<td>4400.0</td>
<td>...</td>
<td>7600.0</td>
<td>8100.0</td>
<td>8400.0</td>
<td>8400.0</td>
<td>8800.0</td>
<td>9200.0</td>
<td>9500.0</td>
<td>9200.0</td>
<td>10300.0</td>
<td>12000.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>AT</td>
<td>24400.0</td>
<td>24600.0</td>
<td>25600.0</td>
<td>26400.0</td>
<td>27600.0</td>
<td>...</td>
<td>34600.0</td>
<td>35000.0</td>
<td>35900.0</td>
<td>36600.0</td>
<td>37200.0</td>
<td>38600.0</td>
<td>39400.0</td>
<td>37500.0</td>
<td>39800.0</td>
<td>44100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>BA</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>8000.0</td>
<td>8100.0</td>
<td>8500.0</td>
<td>8900.0</td>
<td>9200.0</td>
<td>9800.0</td>
<td>10200.0</td>
<td>9900.0</td>
<td>11100.0</td>
<td>12500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>BE</td>
<td>23100.0</td>
<td>23800.0</td>
<td>24800.0</td>
<td>25400.0</td>
<td>26200.0</td>
<td>...</td>
<td>31500.0</td>
<td>32200.0</td>
<td>33200.0</td>
<td>33800.0</td>
<td>34600.0</td>
<td>35600.0</td>
<td>36800.0</td>
<td>35700.0</td>
<td>39000.0</td>
<td>42200.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>BG</td>
<td>5300.0</td>
<td>5800.0</td>
<td>6400.0</td>
<td>6900.0</td>
<td>7500.0</td>
<td>...</td>
<td>12000.0</td>
<td>12600.0</td>
<td>13200.0</td>
<td>13900.0</td>
<td>14700.0</td>
<td>15600.0</td>
<td>16600.0</td>
<td>16600.0</td>
<td>18600.0</td>
<td>20700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>CH</td>
<td>30200.0</td>
<td>31000.0</td>
<td>31500.0</td>
<td>31600.0</td>
<td>32600.0</td>
<td>...</td>
<td>44500.0</td>
<td>45400.0</td>
<td>46900.0</td>
<td>46800.0</td>
<td>46800.0</td>
<td>47900.0</td>
<td>47900.0</td>
<td>46400.0</td>
<td>50400.0</td>
<td>54300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>CY</td>
<td>17700.0</td>
<td>18900.0</td>
<td>19300.0</td>
<td>19900.0</td>
<td>21200.0</td>
<td>...</td>
<td>22000.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>24900.0</td>
<td>26400.0</td>
<td>27600.0</td>
<td>29100.0</td>
<td>27100.0</td>
<td>29400.0</td>
<td>32300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>CZ</td>
<td>13500.0</td>
<td>14600.0</td>
<td>15000.0</td>
<td>16000.0</td>
<td>17100.0</td>
<td>...</td>
<td>22200.0</td>
<td>23300.0</td>
<td>24400.0</td>
<td>25100.0</td>
<td>26700.0</td>
<td>27900.0</td>
<td>29200.0</td>
<td>28000.0</td>
<td>29700.0</td>
<td>32000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>DE</td>
<td>22800.0</td>
<td>23700.0</td>
<td>24200.0</td>
<td>24800.0</td>
<td>25900.0</td>
<td>...</td>
<td>32500.0</td>
<td>33700.0</td>
<td>34200.0</td>
<td>35100.0</td>
<td>36500.0</td>
<td>37400.0</td>
<td>37900.0</td>
<td>37000.0</td>
<td>39000.0</td>
<td>41200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>DK</td>
<td>23800.0</td>
<td>24400.0</td>
<td>25100.0</td>
<td>25300.0</td>
<td>26900.0</td>
<td>...</td>
<td>33700.0</td>
<td>34300.0</td>
<td>35300.0</td>
<td>36100.0</td>
<td>38000.0</td>
<td>39000.0</td>
<td>39500.0</td>
<td>39900.0</td>
<td>43000.0</td>
<td>48100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EA19</td>
<td>21100.0</td>
<td>22000.0</td>
<td>22600.0</td>
<td>23100.0</td>
<td>23800.0</td>
<td>...</td>
<td>28200.0</td>
<td>28700.0</td>
<td>29600.0</td>
<td>30300.0</td>
<td>31400.0</td>
<td>32300.0</td>
<td>33200.0</td>
<td>31600.0</td>
<td>34000.0</td>
<td>36700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EA20</td>
<td>20900.0</td>
<td>21800.0</td>
<td>22500.0</td>
<td>22900.0</td>
<td>23700.0</td>
<td>...</td>
<td>28000.0</td>
<td>28500.0</td>
<td>29400.0</td>
<td>30200.0</td>
<td>31200.0</td>
<td>32100.0</td>
<td>33100.0</td>
<td>31500.0</td>
<td>33900.0</td>
<td>36600.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EE</td>
<td>7800.0</td>
<td>8500.0</td>
<td>9500.0</td>
<td>10700.0</td>
<td>11800.0</td>
<td>...</td>
<td>19800.0</td>
<td>20700.0</td>
<td>21000.0</td>
<td>21700.0</td>
<td>23300.0</td>
<td>24700.0</td>
<td>25800.0</td>
<td>25800.0</td>
<td>28800.0</td>
<td>30700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EL</td>
<td>16200.0</td>
<td>17300.0</td>
<td>18500.0</td>
<td>19600.0</td>
<td>20800.0</td>
<td>...</td>
<td>18800.0</td>
<td>19100.0</td>
<td>19200.0</td>
<td>19100.0</td>
<td>19600.0</td>
<td>20100.0</td>
<td>20600.0</td>
<td>18600.0</td>
<td>20700.0</td>
<td>23900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>ES</td>
<td>17900.0</td>
<td>19000.0</td>
<td>20000.0</td>
<td>20600.0</td>
<td>21400.0</td>
<td>...</td>
<td>23400.0</td>
<td>24000.0</td>
<td>25100.0</td>
<td>25900.0</td>
<td>27200.0</td>
<td>27600.0</td>
<td>28500.0</td>
<td>24900.0</td>
<td>27000.0</td>
<td>29800.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU27_2007</td>
<td>18900.0</td>
<td>19800.0</td>
<td>20400.0</td>
<td>21000.0</td>
<td>21900.0</td>
<td>...</td>
<td>26500.0</td>
<td>27100.0</td>
<td>28000.0</td>
<td>28600.0</td>
<td>29700.0</td>
<td>30600.0</td>
<td>31600.0</td>
<td>30100.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU27_2020</td>
<td>18400.0</td>
<td>19200.0</td>
<td>19900.0</td>
<td>20300.0</td>
<td>21200.0</td>
<td>...</td>
<td>26000.0</td>
<td>26600.0</td>
<td>27500.0</td>
<td>28200.0</td>
<td>29300.0</td>
<td>30300.0</td>
<td>31300.0</td>
<td>30000.0</td>
<td>32500.0</td>
<td>35200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU28</td>
<td>18800.0</td>
<td>19700.0</td>
<td>20400.0</td>
<td>20900.0</td>
<td>21800.0</td>
<td>...</td>
<td>26400.0</td>
<td>27000.0</td>
<td>27900.0</td>
<td>28500.0</td>
<td>29600.0</td>
<td>30500.0</td>
<td>31500.0</td>
<td>30000.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>FI</td>
<td>22200.0</td>
<td>23000.0</td>
<td>23400.0</td>
<td>23800.0</td>
<td>25500.0</td>
<td>...</td>
<td>29900.0</td>
<td>29900.0</td>
<td>30500.0</td>
<td>31200.0</td>
<td>32700.0</td>
<td>33600.0</td>
<td>34200.0</td>
<td>34300.0</td>
<td>36300.0</td>
<td>38400.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>FR</td>
<td>21700.0</td>
<td>22800.0</td>
<td>23400.0</td>
<td>23100.0</td>
<td>23700.0</td>
<td>...</td>
<td>28500.0</td>
<td>28800.0</td>
<td>29400.0</td>
<td>29800.0</td>
<td>30500.0</td>
<td>31400.0</td>
<td>33100.0</td>
<td>31400.0</td>
<td>33800.0</td>
<td>35800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>HR</td>
<td>8900.0</td>
<td>9600.0</td>
<td>10500.0</td>
<td>11200.0</td>
<td>12000.0</td>
<td>...</td>
<td>16000.0</td>
<td>16000.0</td>
<td>16800.0</td>
<td>17600.0</td>
<td>18700.0</td>
<td>19600.0</td>
<td>20800.0</td>
<td>19500.0</td>
<td>22600.0</td>
<td>25700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>HU</td>
<td>9800.0</td>
<td>10900.0</td>
<td>11900.0</td>
<td>12700.0</td>
<td>13300.0</td>
<td>...</td>
<td>17700.0</td>
<td>18400.0</td>
<td>19300.0</td>
<td>19400.0</td>
<td>20300.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>22400.0</td>
<td>24400.0</td>
<td>27300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>IE</td>
<td>25100.0</td>
<td>27000.0</td>
<td>28900.0</td>
<td>29800.0</td>
<td>31700.0</td>
<td>...</td>
<td>34600.0</td>
<td>36700.0</td>
<td>49700.0</td>
<td>49800.0</td>
<td>53600.0</td>
<td>57500.0</td>
<td>59300.0</td>
<td>61600.0</td>
<td>70800.0</td>
<td>82100.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>IS</td>
<td>24700.0</td>
<td>26400.0</td>
<td>26700.0</td>
<td>26900.0</td>
<td>29000.0</td>
<td>...</td>
<td>32000.0</td>
<td>33000.0</td>
<td>35400.0</td>
<td>37200.0</td>
<td>38200.0</td>
<td>38800.0</td>
<td>39300.0</td>
<td>35600.0</td>
<td>38600.0</td>
<td>44900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>IT</td>
<td>22500.0</td>
<td>23200.0</td>
<td>23500.0</td>
<td>23900.0</td>
<td>24100.0</td>
<td>...</td>
<td>26200.0</td>
<td>26100.0</td>
<td>26700.0</td>
<td>28000.0</td>
<td>28800.0</td>
<td>29400.0</td>
<td>30200.0</td>
<td>28300.0</td>
<td>30900.0</td>
<td>33700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>JP</td>
<td>22700.0</td>
<td>23100.0</td>
<td>23500.0</td>
<td>24100.0</td>
<td>25200.0</td>
<td>...</td>
<td>28500.0</td>
<td>28300.0</td>
<td>29400.0</td>
<td>28200.0</td>
<td>28500.0</td>
<td>28700.0</td>
<td>28000.0</td>
<td>27400.0</td>
<td>28400.0</td>
<td>29700.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>LT</td>
<td>7000.0</td>
<td>7800.0</td>
<td>8600.0</td>
<td>9900.0</td>
<td>10600.0</td>
<td>...</td>
<td>19300.0</td>
<td>20200.0</td>
<td>20700.0</td>
<td>21500.0</td>
<td>23200.0</td>
<td>24700.0</td>
<td>26400.0</td>
<td>26300.0</td>
<td>29000.0</td>
<td>31500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>LU</td>
<td>45700.0</td>
<td>46400.0</td>
<td>48000.0</td>
<td>49300.0</td>
<td>52800.0</td>
<td>...</td>
<td>72600.0</td>
<td>75200.0</td>
<td>77600.0</td>
<td>78500.0</td>
<td>78900.0</td>
<td>78900.0</td>
<td>78700.0</td>
<td>78500.0</td>
<td>87000.0</td>
<td>91900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>LV</td>
<td>6700.0</td>
<td>7500.0</td>
<td>8300.0</td>
<td>9100.0</td>
<td>10000.0</td>
<td>...</td>
<td>16300.0</td>
<td>17100.0</td>
<td>18000.0</td>
<td>18600.0</td>
<td>19700.0</td>
<td>20900.0</td>
<td>21700.0</td>
<td>21600.0</td>
<td>23300.0</td>
<td>25900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>ME</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>10700.0</td>
<td>11000.0</td>
<td>11700.0</td>
<td>12600.0</td>
<td>13500.0</td>
<td>14600.0</td>
<td>15700.0</td>
<td>13400.0</td>
<td>15500.0</td>
<td>17500.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>MK</td>
<td>5100.0</td>
<td>5000.0</td>
<td>5200.0</td>
<td>5400.0</td>
<td>5900.0</td>
<td>...</td>
<td>9200.0</td>
<td>9600.0</td>
<td>10000.0</td>
<td>10500.0</td>
<td>10800.0</td>
<td>11400.0</td>
<td>11900.0</td>
<td>11300.0</td>
<td>13700.0</td>
<td>14700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>MT</td>
<td>15300.0</td>
<td>15300.0</td>
<td>16100.0</td>
<td>17200.0</td>
<td>17600.0</td>
<td>...</td>
<td>23300.0</td>
<td>24600.0</td>
<td>26900.0</td>
<td>27600.0</td>
<td>29800.0</td>
<td>30900.0</td>
<td>32400.0</td>
<td>29400.0</td>
<td>33100.0</td>
<td>36000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>NL</td>
<td>26500.0</td>
<td>27500.0</td>
<td>28200.0</td>
<td>28000.0</td>
<td>29300.0</td>
<td>...</td>
<td>35500.0</td>
<td>35300.0</td>
<td>36200.0</td>
<td>36300.0</td>
<td>37800.0</td>
<td>39200.0</td>
<td>39700.0</td>
<td>39200.0</td>
<td>42000.0</td>
<td>45300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>NO</td>
<td>30700.0</td>
<td>31300.0</td>
<td>31200.0</td>
<td>31800.0</td>
<td>34900.0</td>
<td>...</td>
<td>48600.0</td>
<td>47500.0</td>
<td>43700.0</td>
<td>41200.0</td>
<td>44400.0</td>
<td>47600.0</td>
<td>46100.0</td>
<td>42700.0</td>
<td>54300.0</td>
<td>74800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>PL</td>
<td>8900.0</td>
<td>9200.0</td>
<td>9700.0</td>
<td>10100.0</td>
<td>10900.0</td>
<td>...</td>
<td>17300.0</td>
<td>17900.0</td>
<td>19000.0</td>
<td>19300.0</td>
<td>20300.0</td>
<td>21500.0</td>
<td>22800.0</td>
<td>22900.0</td>
<td>25100.0</td>
<td>28000.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>PT</td>
<td>15700.0</td>
<td>16200.0</td>
<td>16700.0</td>
<td>17100.0</td>
<td>17500.0</td>
<td>...</td>
<td>20200.0</td>
<td>20600.0</td>
<td>21300.0</td>
<td>22000.0</td>
<td>22700.0</td>
<td>23700.0</td>
<td>24600.0</td>
<td>22900.0</td>
<td>24400.0</td>
<td>27200.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>RO</td>
<td>4900.0</td>
<td>5300.0</td>
<td>5900.0</td>
<td>6200.0</td>
<td>7300.0</td>
<td>...</td>
<td>14200.0</td>
<td>14800.0</td>
<td>15500.0</td>
<td>16600.0</td>
<td>18500.0</td>
<td>20000.0</td>
<td>21800.0</td>
<td>21800.0</td>
<td>24000.0</td>
<td>27100.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>RS</td>
<td>5000.0</td>
<td>5400.0</td>
<td>5900.0</td>
<td>6300.0</td>
<td>6900.0</td>
<td>...</td>
<td>10600.0</td>
<td>10500.0</td>
<td>10700.0</td>
<td>11000.0</td>
<td>11400.0</td>
<td>12000.0</td>
<td>12800.0</td>
<td>12800.0</td>
<td>14300.0</td>
<td>15500.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SE</td>
<td>24600.0</td>
<td>24800.0</td>
<td>25300.0</td>
<td>26100.0</td>
<td>27700.0</td>
<td>...</td>
<td>33400.0</td>
<td>33800.0</td>
<td>35300.0</td>
<td>35000.0</td>
<td>35700.0</td>
<td>36300.0</td>
<td>37200.0</td>
<td>36800.0</td>
<td>40000.0</td>
<td>42300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SI</td>
<td>14900.0</td>
<td>15700.0</td>
<td>16600.0</td>
<td>17300.0</td>
<td>18600.0</td>
<td>...</td>
<td>21600.0</td>
<td>22100.0</td>
<td>22700.0</td>
<td>23600.0</td>
<td>25100.0</td>
<td>26500.0</td>
<td>27800.0</td>
<td>26800.0</td>
<td>29200.0</td>
<td>32500.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SK</td>
<td>9400.0</td>
<td>10300.0</td>
<td>10900.0</td>
<td>11600.0</td>
<td>12400.0</td>
<td>...</td>
<td>20200.0</td>
<td>20800.0</td>
<td>21600.0</td>
<td>20700.0</td>
<td>20700.0</td>
<td>21300.0</td>
<td>22100.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>24100.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>TR</td>
<td>7900.0</td>
<td>7600.0</td>
<td>7600.0</td>
<td>7900.0</td>
<td>8900.0</td>
<td>...</td>
<td>16100.0</td>
<td>17300.0</td>
<td>18600.0</td>
<td>18500.0</td>
<td>19400.0</td>
<td>19200.0</td>
<td>18500.0</td>
<td>18300.0</td>
<td>20300.0</td>
<td>24300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>UK</td>
<td>22000.0</td>
<td>23100.0</td>
<td>23800.0</td>
<td>24900.0</td>
<td>26200.0</td>
<td>...</td>
<td>28900.0</td>
<td>29600.0</td>
<td>30600.0</td>
<td>30700.0</td>
<td>31700.0</td>
<td>32000.0</td>
<td>32500.0</td>
<td>30000.0</td>
<td>32900.0</td>
<td>35100.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>US</td>
<td>30100.0</td>
<td>30700.0</td>
<td>31100.0</td>
<td>32400.0</td>
<td>34000.0</td>
<td>...</td>
<td>38300.0</td>
<td>39400.0</td>
<td>40600.0</td>
<td>40000.0</td>
<td>40900.0</td>
<td>42300.0</td>
<td>42700.0</td>
<td>41600.0</td>
<td>46500.0</td>
<td>49700.0</td>
</tr>
</tbody>
</table>

<p>44 rows × 28 columns</p>
</div>
</div>
</div>
<p>Videre ønsker vi å fjerne de definisjonene av EU vi ikke trenger, som er ‘EA18’,‘EA19’,‘EU27_2007’,‘EU27_2020’,‘EA18’ og ‘EA18’. Vi bruker samme teknikk, vi lager en liste som inneholder <code>True</code> og <code>False</code>, avhengig om en betingelse er oppfylt.</p>
<p>Feltet vi nå skal filtrere ut fra er “geo\time”, som innholder landkodene. Siden vi ikke bare skal sjekke om én streng er i denne kolonnen, men om flere mulige kandidater er det, kan vi ikke bruke “list comprehension” som over. Vi bruker i stedet en pandas-funksjon <code>isin</code> (<em>is in</em>), som tar en liste med “ting” vi ikke vil ha i feltet som argument.</p>
</section>
<section id="eksempel-23" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-23">Eksempel 23:</h4>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>unwanted<span class="op">=</span>gdp_data[<span class="st">'geo</span><span class="ch">\\</span><span class="st">TIME_PERIOD'</span>].isin([<span class="st">'EA18'</span>,<span class="st">'EA19'</span>,<span class="st">'EU27_2007'</span>,<span class="st">'EU27_2020'</span>,<span class="st">'EA18'</span>,<span class="st">'EA18'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Men vi vil ikke ha <code>unwanted</code>, så vi tar kun med tilfellene der <code>unwanted==False</code>. I tillegg endrer vi kollonnenavnet for land til noe mer gjenkjennelig.</p>
</section>
<section id="eksempel-24" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-24">Eksempel 24:</h4>
<div class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd <span class="op">=</span> gdp_data[unwanted<span class="op">==</span><span class="va">False</span>]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd <span class="op">=</span> gdp_data_fltrd.rename(columns<span class="op">=</span>{<span class="st">'geo</span><span class="ch">\\</span><span class="st">TIME_PERIOD'</span>:<span class="st">'country'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\esi000\AppData\Local\Temp\ipykernel_25488\3512890155.py:1: UserWarning: Boolean Series key will be reindexed to match DataFrame index.
  gdp_data_fltrd = gdp_data[unwanted==False]</code></pre>
</div>
</div>
<p>La oss se på utviklingen i BNP justert for kjøpekraft siden Angela Merkel tiltrådte som forbundskansler i 2005. Vi velger ut kolonnene 2005 til 2020, i tillegg til kolonnen ‘geo\time’ med landkodene, som skal stå først. Vi gjør det ved å lage en liste med de kolonnene vi ønsker å hente ut fra <code>gdp_data</code>. Vi lager da to lister som vi slår sammen:</p>
<p>Liste 1: Vi starter med navnet til første kolonne ‘geo\time’, som vi lager om til en liste med ett element ved hjelp av klammeparenteser: <code>['geo\\time']</code>.</p>
<p>Liste 2: Vi bruker så den innebygde <code>range()</code> til å generere fra 2005 til 2020, og konverterer resultatet til en liste: <code>list(range(2005,2021)</code>.</p>
<p>Summen av disse to listene blir da en liste med ‘geo\time’ først og så årstallene.</p>
</section>
<section id="eksempel-25" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-25">Eksempel 25:</h4>
<div class="cell" data-tags="[]" data-execution_count="85">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">freq</th>
<th data-quarto-table-cell-role="th">na_item</th>
<th data-quarto-table-cell-role="th">ppp_cat</th>
<th data-quarto-table-cell-role="th">unit</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2022</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>AL</td>
<td>3200.0</td>
<td>3600.0</td>
<td>3800.0</td>
<td>4100.0</td>
<td>4400.0</td>
<td>...</td>
<td>7600.0</td>
<td>8100.0</td>
<td>8400.0</td>
<td>8400.0</td>
<td>8800.0</td>
<td>9200.0</td>
<td>9500.0</td>
<td>9200.0</td>
<td>10300.0</td>
<td>12000.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>AT</td>
<td>24400.0</td>
<td>24600.0</td>
<td>25600.0</td>
<td>26400.0</td>
<td>27600.0</td>
<td>...</td>
<td>34600.0</td>
<td>35000.0</td>
<td>35900.0</td>
<td>36600.0</td>
<td>37200.0</td>
<td>38600.0</td>
<td>39400.0</td>
<td>37500.0</td>
<td>39800.0</td>
<td>44100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>BA</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>8000.0</td>
<td>8100.0</td>
<td>8500.0</td>
<td>8900.0</td>
<td>9200.0</td>
<td>9800.0</td>
<td>10200.0</td>
<td>9900.0</td>
<td>11100.0</td>
<td>12500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>BE</td>
<td>23100.0</td>
<td>23800.0</td>
<td>24800.0</td>
<td>25400.0</td>
<td>26200.0</td>
<td>...</td>
<td>31500.0</td>
<td>32200.0</td>
<td>33200.0</td>
<td>33800.0</td>
<td>34600.0</td>
<td>35600.0</td>
<td>36800.0</td>
<td>35700.0</td>
<td>39000.0</td>
<td>42200.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>BG</td>
<td>5300.0</td>
<td>5800.0</td>
<td>6400.0</td>
<td>6900.0</td>
<td>7500.0</td>
<td>...</td>
<td>12000.0</td>
<td>12600.0</td>
<td>13200.0</td>
<td>13900.0</td>
<td>14700.0</td>
<td>15600.0</td>
<td>16600.0</td>
<td>16600.0</td>
<td>18600.0</td>
<td>20700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>CH</td>
<td>30200.0</td>
<td>31000.0</td>
<td>31500.0</td>
<td>31600.0</td>
<td>32600.0</td>
<td>...</td>
<td>44500.0</td>
<td>45400.0</td>
<td>46900.0</td>
<td>46800.0</td>
<td>46800.0</td>
<td>47900.0</td>
<td>47900.0</td>
<td>46400.0</td>
<td>50400.0</td>
<td>54300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>CY</td>
<td>17700.0</td>
<td>18900.0</td>
<td>19300.0</td>
<td>19900.0</td>
<td>21200.0</td>
<td>...</td>
<td>22000.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>24900.0</td>
<td>26400.0</td>
<td>27600.0</td>
<td>29100.0</td>
<td>27100.0</td>
<td>29400.0</td>
<td>32300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>CZ</td>
<td>13500.0</td>
<td>14600.0</td>
<td>15000.0</td>
<td>16000.0</td>
<td>17100.0</td>
<td>...</td>
<td>22200.0</td>
<td>23300.0</td>
<td>24400.0</td>
<td>25100.0</td>
<td>26700.0</td>
<td>27900.0</td>
<td>29200.0</td>
<td>28000.0</td>
<td>29700.0</td>
<td>32000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>DE</td>
<td>22800.0</td>
<td>23700.0</td>
<td>24200.0</td>
<td>24800.0</td>
<td>25900.0</td>
<td>...</td>
<td>32500.0</td>
<td>33700.0</td>
<td>34200.0</td>
<td>35100.0</td>
<td>36500.0</td>
<td>37400.0</td>
<td>37900.0</td>
<td>37000.0</td>
<td>39000.0</td>
<td>41200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>DK</td>
<td>23800.0</td>
<td>24400.0</td>
<td>25100.0</td>
<td>25300.0</td>
<td>26900.0</td>
<td>...</td>
<td>33700.0</td>
<td>34300.0</td>
<td>35300.0</td>
<td>36100.0</td>
<td>38000.0</td>
<td>39000.0</td>
<td>39500.0</td>
<td>39900.0</td>
<td>43000.0</td>
<td>48100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EA20</td>
<td>20900.0</td>
<td>21800.0</td>
<td>22500.0</td>
<td>22900.0</td>
<td>23700.0</td>
<td>...</td>
<td>28000.0</td>
<td>28500.0</td>
<td>29400.0</td>
<td>30200.0</td>
<td>31200.0</td>
<td>32100.0</td>
<td>33100.0</td>
<td>31500.0</td>
<td>33900.0</td>
<td>36600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EE</td>
<td>7800.0</td>
<td>8500.0</td>
<td>9500.0</td>
<td>10700.0</td>
<td>11800.0</td>
<td>...</td>
<td>19800.0</td>
<td>20700.0</td>
<td>21000.0</td>
<td>21700.0</td>
<td>23300.0</td>
<td>24700.0</td>
<td>25800.0</td>
<td>25800.0</td>
<td>28800.0</td>
<td>30700.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EL</td>
<td>16200.0</td>
<td>17300.0</td>
<td>18500.0</td>
<td>19600.0</td>
<td>20800.0</td>
<td>...</td>
<td>18800.0</td>
<td>19100.0</td>
<td>19200.0</td>
<td>19100.0</td>
<td>19600.0</td>
<td>20100.0</td>
<td>20600.0</td>
<td>18600.0</td>
<td>20700.0</td>
<td>23900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>ES</td>
<td>17900.0</td>
<td>19000.0</td>
<td>20000.0</td>
<td>20600.0</td>
<td>21400.0</td>
<td>...</td>
<td>23400.0</td>
<td>24000.0</td>
<td>25100.0</td>
<td>25900.0</td>
<td>27200.0</td>
<td>27600.0</td>
<td>28500.0</td>
<td>24900.0</td>
<td>27000.0</td>
<td>29800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>EU28</td>
<td>18800.0</td>
<td>19700.0</td>
<td>20400.0</td>
<td>20900.0</td>
<td>21800.0</td>
<td>...</td>
<td>26400.0</td>
<td>27000.0</td>
<td>27900.0</td>
<td>28500.0</td>
<td>29600.0</td>
<td>30500.0</td>
<td>31500.0</td>
<td>30000.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>FI</td>
<td>22200.0</td>
<td>23000.0</td>
<td>23400.0</td>
<td>23800.0</td>
<td>25500.0</td>
<td>...</td>
<td>29900.0</td>
<td>29900.0</td>
<td>30500.0</td>
<td>31200.0</td>
<td>32700.0</td>
<td>33600.0</td>
<td>34200.0</td>
<td>34300.0</td>
<td>36300.0</td>
<td>38400.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>FR</td>
<td>21700.0</td>
<td>22800.0</td>
<td>23400.0</td>
<td>23100.0</td>
<td>23700.0</td>
<td>...</td>
<td>28500.0</td>
<td>28800.0</td>
<td>29400.0</td>
<td>29800.0</td>
<td>30500.0</td>
<td>31400.0</td>
<td>33100.0</td>
<td>31400.0</td>
<td>33800.0</td>
<td>35800.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>HR</td>
<td>8900.0</td>
<td>9600.0</td>
<td>10500.0</td>
<td>11200.0</td>
<td>12000.0</td>
<td>...</td>
<td>16000.0</td>
<td>16000.0</td>
<td>16800.0</td>
<td>17600.0</td>
<td>18700.0</td>
<td>19600.0</td>
<td>20800.0</td>
<td>19500.0</td>
<td>22600.0</td>
<td>25700.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>HU</td>
<td>9800.0</td>
<td>10900.0</td>
<td>11900.0</td>
<td>12700.0</td>
<td>13300.0</td>
<td>...</td>
<td>17700.0</td>
<td>18400.0</td>
<td>19300.0</td>
<td>19400.0</td>
<td>20300.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>22400.0</td>
<td>24400.0</td>
<td>27300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>IE</td>
<td>25100.0</td>
<td>27000.0</td>
<td>28900.0</td>
<td>29800.0</td>
<td>31700.0</td>
<td>...</td>
<td>34600.0</td>
<td>36700.0</td>
<td>49700.0</td>
<td>49800.0</td>
<td>53600.0</td>
<td>57500.0</td>
<td>59300.0</td>
<td>61600.0</td>
<td>70800.0</td>
<td>82100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>IS</td>
<td>24700.0</td>
<td>26400.0</td>
<td>26700.0</td>
<td>26900.0</td>
<td>29000.0</td>
<td>...</td>
<td>32000.0</td>
<td>33000.0</td>
<td>35400.0</td>
<td>37200.0</td>
<td>38200.0</td>
<td>38800.0</td>
<td>39300.0</td>
<td>35600.0</td>
<td>38600.0</td>
<td>44900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>IT</td>
<td>22500.0</td>
<td>23200.0</td>
<td>23500.0</td>
<td>23900.0</td>
<td>24100.0</td>
<td>...</td>
<td>26200.0</td>
<td>26100.0</td>
<td>26700.0</td>
<td>28000.0</td>
<td>28800.0</td>
<td>29400.0</td>
<td>30200.0</td>
<td>28300.0</td>
<td>30900.0</td>
<td>33700.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>JP</td>
<td>22700.0</td>
<td>23100.0</td>
<td>23500.0</td>
<td>24100.0</td>
<td>25200.0</td>
<td>...</td>
<td>28500.0</td>
<td>28300.0</td>
<td>29400.0</td>
<td>28200.0</td>
<td>28500.0</td>
<td>28700.0</td>
<td>28000.0</td>
<td>27400.0</td>
<td>28400.0</td>
<td>29700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>LT</td>
<td>7000.0</td>
<td>7800.0</td>
<td>8600.0</td>
<td>9900.0</td>
<td>10600.0</td>
<td>...</td>
<td>19300.0</td>
<td>20200.0</td>
<td>20700.0</td>
<td>21500.0</td>
<td>23200.0</td>
<td>24700.0</td>
<td>26400.0</td>
<td>26300.0</td>
<td>29000.0</td>
<td>31500.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>LU</td>
<td>45700.0</td>
<td>46400.0</td>
<td>48000.0</td>
<td>49300.0</td>
<td>52800.0</td>
<td>...</td>
<td>72600.0</td>
<td>75200.0</td>
<td>77600.0</td>
<td>78500.0</td>
<td>78900.0</td>
<td>78900.0</td>
<td>78700.0</td>
<td>78500.0</td>
<td>87000.0</td>
<td>91900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>LV</td>
<td>6700.0</td>
<td>7500.0</td>
<td>8300.0</td>
<td>9100.0</td>
<td>10000.0</td>
<td>...</td>
<td>16300.0</td>
<td>17100.0</td>
<td>18000.0</td>
<td>18600.0</td>
<td>19700.0</td>
<td>20900.0</td>
<td>21700.0</td>
<td>21600.0</td>
<td>23300.0</td>
<td>25900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>ME</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>10700.0</td>
<td>11000.0</td>
<td>11700.0</td>
<td>12600.0</td>
<td>13500.0</td>
<td>14600.0</td>
<td>15700.0</td>
<td>13400.0</td>
<td>15500.0</td>
<td>17500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>MK</td>
<td>5100.0</td>
<td>5000.0</td>
<td>5200.0</td>
<td>5400.0</td>
<td>5900.0</td>
<td>...</td>
<td>9200.0</td>
<td>9600.0</td>
<td>10000.0</td>
<td>10500.0</td>
<td>10800.0</td>
<td>11400.0</td>
<td>11900.0</td>
<td>11300.0</td>
<td>13700.0</td>
<td>14700.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>MT</td>
<td>15300.0</td>
<td>15300.0</td>
<td>16100.0</td>
<td>17200.0</td>
<td>17600.0</td>
<td>...</td>
<td>23300.0</td>
<td>24600.0</td>
<td>26900.0</td>
<td>27600.0</td>
<td>29800.0</td>
<td>30900.0</td>
<td>32400.0</td>
<td>29400.0</td>
<td>33100.0</td>
<td>36000.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>NL</td>
<td>26500.0</td>
<td>27500.0</td>
<td>28200.0</td>
<td>28000.0</td>
<td>29300.0</td>
<td>...</td>
<td>35500.0</td>
<td>35300.0</td>
<td>36200.0</td>
<td>36300.0</td>
<td>37800.0</td>
<td>39200.0</td>
<td>39700.0</td>
<td>39200.0</td>
<td>42000.0</td>
<td>45300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>NO</td>
<td>30700.0</td>
<td>31300.0</td>
<td>31200.0</td>
<td>31800.0</td>
<td>34900.0</td>
<td>...</td>
<td>48600.0</td>
<td>47500.0</td>
<td>43700.0</td>
<td>41200.0</td>
<td>44400.0</td>
<td>47600.0</td>
<td>46100.0</td>
<td>42700.0</td>
<td>54300.0</td>
<td>74800.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>PL</td>
<td>8900.0</td>
<td>9200.0</td>
<td>9700.0</td>
<td>10100.0</td>
<td>10900.0</td>
<td>...</td>
<td>17300.0</td>
<td>17900.0</td>
<td>19000.0</td>
<td>19300.0</td>
<td>20300.0</td>
<td>21500.0</td>
<td>22800.0</td>
<td>22900.0</td>
<td>25100.0</td>
<td>28000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>PT</td>
<td>15700.0</td>
<td>16200.0</td>
<td>16700.0</td>
<td>17100.0</td>
<td>17500.0</td>
<td>...</td>
<td>20200.0</td>
<td>20600.0</td>
<td>21300.0</td>
<td>22000.0</td>
<td>22700.0</td>
<td>23700.0</td>
<td>24600.0</td>
<td>22900.0</td>
<td>24400.0</td>
<td>27200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>RO</td>
<td>4900.0</td>
<td>5300.0</td>
<td>5900.0</td>
<td>6200.0</td>
<td>7300.0</td>
<td>...</td>
<td>14200.0</td>
<td>14800.0</td>
<td>15500.0</td>
<td>16600.0</td>
<td>18500.0</td>
<td>20000.0</td>
<td>21800.0</td>
<td>21800.0</td>
<td>24000.0</td>
<td>27100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>RS</td>
<td>5000.0</td>
<td>5400.0</td>
<td>5900.0</td>
<td>6300.0</td>
<td>6900.0</td>
<td>...</td>
<td>10600.0</td>
<td>10500.0</td>
<td>10700.0</td>
<td>11000.0</td>
<td>11400.0</td>
<td>12000.0</td>
<td>12800.0</td>
<td>12800.0</td>
<td>14300.0</td>
<td>15500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SE</td>
<td>24600.0</td>
<td>24800.0</td>
<td>25300.0</td>
<td>26100.0</td>
<td>27700.0</td>
<td>...</td>
<td>33400.0</td>
<td>33800.0</td>
<td>35300.0</td>
<td>35000.0</td>
<td>35700.0</td>
<td>36300.0</td>
<td>37200.0</td>
<td>36800.0</td>
<td>40000.0</td>
<td>42300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SI</td>
<td>14900.0</td>
<td>15700.0</td>
<td>16600.0</td>
<td>17300.0</td>
<td>18600.0</td>
<td>...</td>
<td>21600.0</td>
<td>22100.0</td>
<td>22700.0</td>
<td>23600.0</td>
<td>25100.0</td>
<td>26500.0</td>
<td>27800.0</td>
<td>26800.0</td>
<td>29200.0</td>
<td>32500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>SK</td>
<td>9400.0</td>
<td>10300.0</td>
<td>10900.0</td>
<td>11600.0</td>
<td>12400.0</td>
<td>...</td>
<td>20200.0</td>
<td>20800.0</td>
<td>21600.0</td>
<td>20700.0</td>
<td>20700.0</td>
<td>21300.0</td>
<td>22100.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>24100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>TR</td>
<td>7900.0</td>
<td>7600.0</td>
<td>7600.0</td>
<td>7900.0</td>
<td>8900.0</td>
<td>...</td>
<td>16100.0</td>
<td>17300.0</td>
<td>18600.0</td>
<td>18500.0</td>
<td>19400.0</td>
<td>19200.0</td>
<td>18500.0</td>
<td>18300.0</td>
<td>20300.0</td>
<td>24300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>UK</td>
<td>22000.0</td>
<td>23100.0</td>
<td>23800.0</td>
<td>24900.0</td>
<td>26200.0</td>
<td>...</td>
<td>28900.0</td>
<td>29600.0</td>
<td>30600.0</td>
<td>30700.0</td>
<td>31700.0</td>
<td>32000.0</td>
<td>32500.0</td>
<td>30000.0</td>
<td>32900.0</td>
<td>35100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>A</td>
<td>EXP_PPS_EU27_2020_HAB</td>
<td>GDP</td>
<td>PC</td>
<td>US</td>
<td>30100.0</td>
<td>30700.0</td>
<td>31100.0</td>
<td>32400.0</td>
<td>34000.0</td>
<td>...</td>
<td>38300.0</td>
<td>39400.0</td>
<td>40600.0</td>
<td>40000.0</td>
<td>40900.0</td>
<td>42300.0</td>
<td>42700.0</td>
<td>41600.0</td>
<td>46500.0</td>
<td>49700.0</td>
</tr>
</tbody>
</table>

<p>41 rows × 28 columns</p>
</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="88">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>chosen_columns<span class="op">=</span>[<span class="st">'country'</span>]<span class="op">+</span>[<span class="bu">str</span>(i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2005</span>,<span class="dv">2021</span>)]</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>chosen_columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="88">
<pre><code>['country',
 '2005',
 '2006',
 '2007',
 '2008',
 '2009',
 '2010',
 '2011',
 '2012',
 '2013',
 '2014',
 '2015',
 '2016',
 '2017',
 '2018',
 '2019',
 '2020']</code></pre>
</div>
</div>
<p>Vi kan nå velge ut kun disse kolonnene ved å velge samtlige rader fra gdp_data.loc, og kolonnene angitt av listen:</p>
</section>
<section id="eksempel-26" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-26">Eksempel 26:</h4>
<div class="cell" data-tags="[]" data-execution_count="89">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd2 <span class="op">=</span> gdp_data_fltrd[chosen_columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Så ønsker vi videre å kategorisere observasjonene ut fra landkode, og ikke rekkefølge. Vi setter derfor ‘geo\time’ som indeks:</p>
</section>
<section id="eksempel-27" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-27">Eksempel 27:</h4>
<div class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd2<span class="op">=</span>gdp_data_fltrd2.set_index(<span class="st">'country'</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">AL</td>
<td>4800.0</td>
<td>5200.0</td>
<td>5800.0</td>
<td>6400.0</td>
<td>6700.0</td>
<td>7300.0</td>
<td>7600.0</td>
<td>7800.0</td>
<td>7600.0</td>
<td>8100.0</td>
<td>8400.0</td>
<td>8400.0</td>
<td>8800.0</td>
<td>9200.0</td>
<td>9500.0</td>
<td>9200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">AT</td>
<td>28700.0</td>
<td>29900.0</td>
<td>31100.0</td>
<td>32100.0</td>
<td>30900.0</td>
<td>31800.0</td>
<td>33100.0</td>
<td>34300.0</td>
<td>34600.0</td>
<td>35000.0</td>
<td>35900.0</td>
<td>36600.0</td>
<td>37200.0</td>
<td>38600.0</td>
<td>39400.0</td>
<td>37500.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">BA</td>
<td>5600.0</td>
<td>6300.0</td>
<td>6900.0</td>
<td>7400.0</td>
<td>7200.0</td>
<td>7400.0</td>
<td>7700.0</td>
<td>7800.0</td>
<td>8000.0</td>
<td>8100.0</td>
<td>8500.0</td>
<td>8900.0</td>
<td>9200.0</td>
<td>9800.0</td>
<td>10200.0</td>
<td>9900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">BE</td>
<td>27200.0</td>
<td>28000.0</td>
<td>29000.0</td>
<td>29400.0</td>
<td>28500.0</td>
<td>30100.0</td>
<td>30500.0</td>
<td>31200.0</td>
<td>31500.0</td>
<td>32200.0</td>
<td>33200.0</td>
<td>33800.0</td>
<td>34600.0</td>
<td>35600.0</td>
<td>36800.0</td>
<td>35700.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">BG</td>
<td>8300.0</td>
<td>9000.0</td>
<td>10000.0</td>
<td>10900.0</td>
<td>10500.0</td>
<td>11100.0</td>
<td>11700.0</td>
<td>12100.0</td>
<td>12000.0</td>
<td>12600.0</td>
<td>13200.0</td>
<td>13900.0</td>
<td>14700.0</td>
<td>15600.0</td>
<td>16600.0</td>
<td>16600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">CH</td>
<td>33800.0</td>
<td>36500.0</td>
<td>39900.0</td>
<td>41500.0</td>
<td>39800.0</td>
<td>41100.0</td>
<td>42800.0</td>
<td>43900.0</td>
<td>44500.0</td>
<td>45400.0</td>
<td>46900.0</td>
<td>46800.0</td>
<td>46800.0</td>
<td>47900.0</td>
<td>47900.0</td>
<td>46400.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">CY</td>
<td>22700.0</td>
<td>23900.0</td>
<td>26000.0</td>
<td>27000.0</td>
<td>25600.0</td>
<td>25400.0</td>
<td>24900.0</td>
<td>23600.0</td>
<td>22000.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>24900.0</td>
<td>26400.0</td>
<td>27600.0</td>
<td>29100.0</td>
<td>27100.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">CZ</td>
<td>18100.0</td>
<td>19000.0</td>
<td>20700.0</td>
<td>21600.0</td>
<td>20900.0</td>
<td>21000.0</td>
<td>21600.0</td>
<td>21600.0</td>
<td>22200.0</td>
<td>23300.0</td>
<td>24400.0</td>
<td>25100.0</td>
<td>26700.0</td>
<td>27900.0</td>
<td>29200.0</td>
<td>28000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">DE</td>
<td>26400.0</td>
<td>27600.0</td>
<td>29100.0</td>
<td>29800.0</td>
<td>28300.0</td>
<td>30000.0</td>
<td>31700.0</td>
<td>32000.0</td>
<td>32500.0</td>
<td>33700.0</td>
<td>34200.0</td>
<td>35100.0</td>
<td>36500.0</td>
<td>37400.0</td>
<td>37900.0</td>
<td>37000.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">DK</td>
<td>28000.0</td>
<td>29700.0</td>
<td>30800.0</td>
<td>32000.0</td>
<td>30500.0</td>
<td>32500.0</td>
<td>33100.0</td>
<td>33100.0</td>
<td>33700.0</td>
<td>34300.0</td>
<td>35300.0</td>
<td>36100.0</td>
<td>38000.0</td>
<td>39000.0</td>
<td>39500.0</td>
<td>39900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">EA20</td>
<td>24600.0</td>
<td>25800.0</td>
<td>27100.0</td>
<td>27700.0</td>
<td>26200.0</td>
<td>27000.0</td>
<td>27700.0</td>
<td>27700.0</td>
<td>28000.0</td>
<td>28500.0</td>
<td>29400.0</td>
<td>30200.0</td>
<td>31200.0</td>
<td>32100.0</td>
<td>33100.0</td>
<td>31500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">EE</td>
<td>13600.0</td>
<td>15300.0</td>
<td>17500.0</td>
<td>17700.0</td>
<td>15400.0</td>
<td>16300.0</td>
<td>18300.0</td>
<td>19200.0</td>
<td>19800.0</td>
<td>20700.0</td>
<td>21000.0</td>
<td>21700.0</td>
<td>23300.0</td>
<td>24700.0</td>
<td>25800.0</td>
<td>25800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">EL</td>
<td>20900.0</td>
<td>22700.0</td>
<td>23100.0</td>
<td>23900.0</td>
<td>22900.0</td>
<td>21100.0</td>
<td>19100.0</td>
<td>18400.0</td>
<td>18800.0</td>
<td>19100.0</td>
<td>19200.0</td>
<td>19100.0</td>
<td>19600.0</td>
<td>20100.0</td>
<td>20600.0</td>
<td>18600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ES</td>
<td>22600.0</td>
<td>24400.0</td>
<td>25600.0</td>
<td>25800.0</td>
<td>24200.0</td>
<td>24000.0</td>
<td>23700.0</td>
<td>23400.0</td>
<td>23400.0</td>
<td>24000.0</td>
<td>25100.0</td>
<td>25900.0</td>
<td>27200.0</td>
<td>27600.0</td>
<td>28500.0</td>
<td>24900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">EU28</td>
<td>22600.0</td>
<td>23800.0</td>
<td>25000.0</td>
<td>25700.0</td>
<td>24400.0</td>
<td>25300.0</td>
<td>25900.0</td>
<td>26100.0</td>
<td>26400.0</td>
<td>27000.0</td>
<td>27900.0</td>
<td>28500.0</td>
<td>29600.0</td>
<td>30500.0</td>
<td>31500.0</td>
<td>30000.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">FI</td>
<td>26200.0</td>
<td>27400.0</td>
<td>29900.0</td>
<td>31100.0</td>
<td>28700.0</td>
<td>29500.0</td>
<td>30500.0</td>
<td>30200.0</td>
<td>29900.0</td>
<td>29900.0</td>
<td>30500.0</td>
<td>31200.0</td>
<td>32700.0</td>
<td>33600.0</td>
<td>34200.0</td>
<td>34300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">FR</td>
<td>25000.0</td>
<td>25800.0</td>
<td>26900.0</td>
<td>27200.0</td>
<td>26200.0</td>
<td>27200.0</td>
<td>27900.0</td>
<td>27800.0</td>
<td>28500.0</td>
<td>28800.0</td>
<td>29400.0</td>
<td>29800.0</td>
<td>30500.0</td>
<td>31400.0</td>
<td>33100.0</td>
<td>31400.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">HR</td>
<td>12700.0</td>
<td>14000.0</td>
<td>15400.0</td>
<td>16300.0</td>
<td>15300.0</td>
<td>15200.0</td>
<td>15700.0</td>
<td>15800.0</td>
<td>16000.0</td>
<td>16000.0</td>
<td>16800.0</td>
<td>17600.0</td>
<td>18700.0</td>
<td>19600.0</td>
<td>20800.0</td>
<td>19500.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">HU</td>
<td>14000.0</td>
<td>14600.0</td>
<td>15100.0</td>
<td>16100.0</td>
<td>15600.0</td>
<td>16500.0</td>
<td>17200.0</td>
<td>17200.0</td>
<td>17700.0</td>
<td>18400.0</td>
<td>19300.0</td>
<td>19400.0</td>
<td>20300.0</td>
<td>21600.0</td>
<td>22900.0</td>
<td>22400.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">IE</td>
<td>33100.0</td>
<td>35200.0</td>
<td>36900.0</td>
<td>34200.0</td>
<td>31300.0</td>
<td>32700.0</td>
<td>33600.0</td>
<td>34300.0</td>
<td>34600.0</td>
<td>36700.0</td>
<td>49700.0</td>
<td>49800.0</td>
<td>53600.0</td>
<td>57500.0</td>
<td>59300.0</td>
<td>61600.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">IS</td>
<td>30600.0</td>
<td>31500.0</td>
<td>32800.0</td>
<td>33700.0</td>
<td>31500.0</td>
<td>30100.0</td>
<td>30500.0</td>
<td>31000.0</td>
<td>32000.0</td>
<td>33000.0</td>
<td>35400.0</td>
<td>37200.0</td>
<td>38200.0</td>
<td>38800.0</td>
<td>39300.0</td>
<td>35600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">IT</td>
<td>24600.0</td>
<td>25700.0</td>
<td>26800.0</td>
<td>27400.0</td>
<td>25900.0</td>
<td>26400.0</td>
<td>27000.0</td>
<td>26600.0</td>
<td>26200.0</td>
<td>26100.0</td>
<td>26700.0</td>
<td>28000.0</td>
<td>28800.0</td>
<td>29400.0</td>
<td>30200.0</td>
<td>28300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">JP</td>
<td>26300.0</td>
<td>26700.0</td>
<td>27600.0</td>
<td>27400.0</td>
<td>25300.0</td>
<td>26700.0</td>
<td>27000.0</td>
<td>27800.0</td>
<td>28500.0</td>
<td>28300.0</td>
<td>29400.0</td>
<td>28200.0</td>
<td>28500.0</td>
<td>28700.0</td>
<td>28000.0</td>
<td>27400.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">LT</td>
<td>11900.0</td>
<td>13100.0</td>
<td>15100.0</td>
<td>16100.0</td>
<td>13700.0</td>
<td>15200.0</td>
<td>17100.0</td>
<td>18200.0</td>
<td>19300.0</td>
<td>20200.0</td>
<td>20700.0</td>
<td>21500.0</td>
<td>23200.0</td>
<td>24700.0</td>
<td>26400.0</td>
<td>26300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">LU</td>
<td>56300.0</td>
<td>62700.0</td>
<td>67100.0</td>
<td>70500.0</td>
<td>65500.0</td>
<td>68300.0</td>
<td>70200.0</td>
<td>71300.0</td>
<td>72600.0</td>
<td>75200.0</td>
<td>77600.0</td>
<td>78500.0</td>
<td>78900.0</td>
<td>78900.0</td>
<td>78700.0</td>
<td>78500.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">LV</td>
<td>11400.0</td>
<td>12600.0</td>
<td>14400.0</td>
<td>15200.0</td>
<td>12900.0</td>
<td>13400.0</td>
<td>14300.0</td>
<td>15700.0</td>
<td>16300.0</td>
<td>17100.0</td>
<td>18000.0</td>
<td>18600.0</td>
<td>19700.0</td>
<td>20900.0</td>
<td>21700.0</td>
<td>21600.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ME</td>
<td>NaN</td>
<td>8300.0</td>
<td>9800.0</td>
<td>10700.0</td>
<td>9800.0</td>
<td>10300.0</td>
<td>10800.0</td>
<td>10200.0</td>
<td>10700.0</td>
<td>11000.0</td>
<td>11700.0</td>
<td>12600.0</td>
<td>13500.0</td>
<td>14600.0</td>
<td>15700.0</td>
<td>13400.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">MK</td>
<td>6400.0</td>
<td>6900.0</td>
<td>7400.0</td>
<td>8200.0</td>
<td>8300.0</td>
<td>8600.0</td>
<td>8700.0</td>
<td>8800.0</td>
<td>9200.0</td>
<td>9600.0</td>
<td>10000.0</td>
<td>10500.0</td>
<td>10800.0</td>
<td>11400.0</td>
<td>11900.0</td>
<td>11300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">MT</td>
<td>18300.0</td>
<td>18500.0</td>
<td>19800.0</td>
<td>20600.0</td>
<td>20100.0</td>
<td>21700.0</td>
<td>21600.0</td>
<td>22300.0</td>
<td>23300.0</td>
<td>24600.0</td>
<td>26900.0</td>
<td>27600.0</td>
<td>29800.0</td>
<td>30900.0</td>
<td>32400.0</td>
<td>29400.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">NL</td>
<td>30800.0</td>
<td>32600.0</td>
<td>34700.0</td>
<td>36000.0</td>
<td>33600.0</td>
<td>34100.0</td>
<td>34700.0</td>
<td>34900.0</td>
<td>35500.0</td>
<td>35300.0</td>
<td>36200.0</td>
<td>36300.0</td>
<td>37800.0</td>
<td>39200.0</td>
<td>39700.0</td>
<td>39200.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">NO</td>
<td>39300.0</td>
<td>43200.0</td>
<td>44300.0</td>
<td>48200.0</td>
<td>42000.0</td>
<td>44100.0</td>
<td>46500.0</td>
<td>48600.0</td>
<td>48600.0</td>
<td>47500.0</td>
<td>43700.0</td>
<td>41200.0</td>
<td>44400.0</td>
<td>47600.0</td>
<td>46100.0</td>
<td>42700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">PL</td>
<td>11400.0</td>
<td>12000.0</td>
<td>13300.0</td>
<td>14200.0</td>
<td>14400.0</td>
<td>15600.0</td>
<td>16700.0</td>
<td>17200.0</td>
<td>17300.0</td>
<td>17900.0</td>
<td>19000.0</td>
<td>19300.0</td>
<td>20300.0</td>
<td>21500.0</td>
<td>22800.0</td>
<td>22900.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">PT</td>
<td>18600.0</td>
<td>19600.0</td>
<td>20300.0</td>
<td>20700.0</td>
<td>20000.0</td>
<td>20600.0</td>
<td>19900.0</td>
<td>19500.0</td>
<td>20200.0</td>
<td>20600.0</td>
<td>21300.0</td>
<td>22000.0</td>
<td>22700.0</td>
<td>23700.0</td>
<td>24600.0</td>
<td>22900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">RO</td>
<td>7900.0</td>
<td>9200.0</td>
<td>10800.0</td>
<td>13000.0</td>
<td>12600.0</td>
<td>13100.0</td>
<td>14000.0</td>
<td>14600.0</td>
<td>14200.0</td>
<td>14800.0</td>
<td>15500.0</td>
<td>16600.0</td>
<td>18500.0</td>
<td>20000.0</td>
<td>21800.0</td>
<td>21800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">RS</td>
<td>7500.0</td>
<td>8100.0</td>
<td>8900.0</td>
<td>9800.0</td>
<td>9500.0</td>
<td>9700.0</td>
<td>10200.0</td>
<td>10300.0</td>
<td>10600.0</td>
<td>10500.0</td>
<td>10700.0</td>
<td>11000.0</td>
<td>11400.0</td>
<td>12000.0</td>
<td>12800.0</td>
<td>12800.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SE</td>
<td>28000.0</td>
<td>30000.0</td>
<td>32300.0</td>
<td>32700.0</td>
<td>30400.0</td>
<td>32000.0</td>
<td>33200.0</td>
<td>33500.0</td>
<td>33400.0</td>
<td>33800.0</td>
<td>35300.0</td>
<td>35000.0</td>
<td>35700.0</td>
<td>36300.0</td>
<td>37200.0</td>
<td>36800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">SI</td>
<td>19500.0</td>
<td>20400.0</td>
<td>21800.0</td>
<td>23000.0</td>
<td>20800.0</td>
<td>21100.0</td>
<td>21600.0</td>
<td>21400.0</td>
<td>21600.0</td>
<td>22100.0</td>
<td>22700.0</td>
<td>23600.0</td>
<td>25100.0</td>
<td>26500.0</td>
<td>27800.0</td>
<td>26800.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SK</td>
<td>13600.0</td>
<td>15000.0</td>
<td>16700.0</td>
<td>18300.0</td>
<td>17300.0</td>
<td>19100.0</td>
<td>19600.0</td>
<td>19900.0</td>
<td>20200.0</td>
<td>20800.0</td>
<td>21600.0</td>
<td>20700.0</td>
<td>20700.0</td>
<td>21300.0</td>
<td>22100.0</td>
<td>21600.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">TR</td>
<td>9800.0</td>
<td>10800.0</td>
<td>11700.0</td>
<td>12400.0</td>
<td>11700.0</td>
<td>13100.0</td>
<td>14600.0</td>
<td>15200.0</td>
<td>16100.0</td>
<td>17300.0</td>
<td>18600.0</td>
<td>18500.0</td>
<td>19400.0</td>
<td>19200.0</td>
<td>18500.0</td>
<td>18300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">UK</td>
<td>26800.0</td>
<td>27600.0</td>
<td>28100.0</td>
<td>28500.0</td>
<td>26500.0</td>
<td>27700.0</td>
<td>27800.0</td>
<td>28300.0</td>
<td>28900.0</td>
<td>29600.0</td>
<td>30600.0</td>
<td>30700.0</td>
<td>31700.0</td>
<td>32000.0</td>
<td>32500.0</td>
<td>30000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">US</td>
<td>36100.0</td>
<td>36800.0</td>
<td>37900.0</td>
<td>37600.0</td>
<td>35600.0</td>
<td>36800.0</td>
<td>37200.0</td>
<td>38100.0</td>
<td>38300.0</td>
<td>39400.0</td>
<td>40600.0</td>
<td>40000.0</td>
<td>40900.0</td>
<td>42300.0</td>
<td>42700.0</td>
<td>41600.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Vi skal nå “rebasere” tallene slik at alle starter på 100. Vi må først sørge for at hvert årstall er en observasjon/rad, og ikke en kolonne. Vi gjør det med pandasfunksjonen <code>transpose()</code>. Den bytter om på rader og kolonner:</p>
</section>
<section id="eksempel-28" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-28">Eksempel 28:</h4>
<div class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd3<span class="op">=</span>gdp_data_fltrd2.transpose()</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="94">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">AL</th>
<th data-quarto-table-cell-role="th">AT</th>
<th data-quarto-table-cell-role="th">BA</th>
<th data-quarto-table-cell-role="th">BE</th>
<th data-quarto-table-cell-role="th">BG</th>
<th data-quarto-table-cell-role="th">CH</th>
<th data-quarto-table-cell-role="th">CY</th>
<th data-quarto-table-cell-role="th">CZ</th>
<th data-quarto-table-cell-role="th">DE</th>
<th data-quarto-table-cell-role="th">DK</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">PL</th>
<th data-quarto-table-cell-role="th">PT</th>
<th data-quarto-table-cell-role="th">RO</th>
<th data-quarto-table-cell-role="th">RS</th>
<th data-quarto-table-cell-role="th">SE</th>
<th data-quarto-table-cell-role="th">SI</th>
<th data-quarto-table-cell-role="th">SK</th>
<th data-quarto-table-cell-role="th">TR</th>
<th data-quarto-table-cell-role="th">UK</th>
<th data-quarto-table-cell-role="th">US</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005</td>
<td>4800.0</td>
<td>28700.0</td>
<td>5600.0</td>
<td>27200.0</td>
<td>8300.0</td>
<td>33800.0</td>
<td>22700.0</td>
<td>18100.0</td>
<td>26400.0</td>
<td>28000.0</td>
<td>...</td>
<td>11400.0</td>
<td>18600.0</td>
<td>7900.0</td>
<td>7500.0</td>
<td>28000.0</td>
<td>19500.0</td>
<td>13600.0</td>
<td>9800.0</td>
<td>26800.0</td>
<td>36100.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2006</td>
<td>5200.0</td>
<td>29900.0</td>
<td>6300.0</td>
<td>28000.0</td>
<td>9000.0</td>
<td>36500.0</td>
<td>23900.0</td>
<td>19000.0</td>
<td>27600.0</td>
<td>29700.0</td>
<td>...</td>
<td>12000.0</td>
<td>19600.0</td>
<td>9200.0</td>
<td>8100.0</td>
<td>30000.0</td>
<td>20400.0</td>
<td>15000.0</td>
<td>10800.0</td>
<td>27600.0</td>
<td>36800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2007</td>
<td>5800.0</td>
<td>31100.0</td>
<td>6900.0</td>
<td>29000.0</td>
<td>10000.0</td>
<td>39900.0</td>
<td>26000.0</td>
<td>20700.0</td>
<td>29100.0</td>
<td>30800.0</td>
<td>...</td>
<td>13300.0</td>
<td>20300.0</td>
<td>10800.0</td>
<td>8900.0</td>
<td>32300.0</td>
<td>21800.0</td>
<td>16700.0</td>
<td>11700.0</td>
<td>28100.0</td>
<td>37900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2008</td>
<td>6400.0</td>
<td>32100.0</td>
<td>7400.0</td>
<td>29400.0</td>
<td>10900.0</td>
<td>41500.0</td>
<td>27000.0</td>
<td>21600.0</td>
<td>29800.0</td>
<td>32000.0</td>
<td>...</td>
<td>14200.0</td>
<td>20700.0</td>
<td>13000.0</td>
<td>9800.0</td>
<td>32700.0</td>
<td>23000.0</td>
<td>18300.0</td>
<td>12400.0</td>
<td>28500.0</td>
<td>37600.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2009</td>
<td>6700.0</td>
<td>30900.0</td>
<td>7200.0</td>
<td>28500.0</td>
<td>10500.0</td>
<td>39800.0</td>
<td>25600.0</td>
<td>20900.0</td>
<td>28300.0</td>
<td>30500.0</td>
<td>...</td>
<td>14400.0</td>
<td>20000.0</td>
<td>12600.0</td>
<td>9500.0</td>
<td>30400.0</td>
<td>20800.0</td>
<td>17300.0</td>
<td>11700.0</td>
<td>26500.0</td>
<td>35600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2010</td>
<td>7300.0</td>
<td>31800.0</td>
<td>7400.0</td>
<td>30100.0</td>
<td>11100.0</td>
<td>41100.0</td>
<td>25400.0</td>
<td>21000.0</td>
<td>30000.0</td>
<td>32500.0</td>
<td>...</td>
<td>15600.0</td>
<td>20600.0</td>
<td>13100.0</td>
<td>9700.0</td>
<td>32000.0</td>
<td>21100.0</td>
<td>19100.0</td>
<td>13100.0</td>
<td>27700.0</td>
<td>36800.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2011</td>
<td>7600.0</td>
<td>33100.0</td>
<td>7700.0</td>
<td>30500.0</td>
<td>11700.0</td>
<td>42800.0</td>
<td>24900.0</td>
<td>21600.0</td>
<td>31700.0</td>
<td>33100.0</td>
<td>...</td>
<td>16700.0</td>
<td>19900.0</td>
<td>14000.0</td>
<td>10200.0</td>
<td>33200.0</td>
<td>21600.0</td>
<td>19600.0</td>
<td>14600.0</td>
<td>27800.0</td>
<td>37200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2012</td>
<td>7800.0</td>
<td>34300.0</td>
<td>7800.0</td>
<td>31200.0</td>
<td>12100.0</td>
<td>43900.0</td>
<td>23600.0</td>
<td>21600.0</td>
<td>32000.0</td>
<td>33100.0</td>
<td>...</td>
<td>17200.0</td>
<td>19500.0</td>
<td>14600.0</td>
<td>10300.0</td>
<td>33500.0</td>
<td>21400.0</td>
<td>19900.0</td>
<td>15200.0</td>
<td>28300.0</td>
<td>38100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013</td>
<td>7600.0</td>
<td>34600.0</td>
<td>8000.0</td>
<td>31500.0</td>
<td>12000.0</td>
<td>44500.0</td>
<td>22000.0</td>
<td>22200.0</td>
<td>32500.0</td>
<td>33700.0</td>
<td>...</td>
<td>17300.0</td>
<td>20200.0</td>
<td>14200.0</td>
<td>10600.0</td>
<td>33400.0</td>
<td>21600.0</td>
<td>20200.0</td>
<td>16100.0</td>
<td>28900.0</td>
<td>38300.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2014</td>
<td>8100.0</td>
<td>35000.0</td>
<td>8100.0</td>
<td>32200.0</td>
<td>12600.0</td>
<td>45400.0</td>
<td>21600.0</td>
<td>23300.0</td>
<td>33700.0</td>
<td>34300.0</td>
<td>...</td>
<td>17900.0</td>
<td>20600.0</td>
<td>14800.0</td>
<td>10500.0</td>
<td>33800.0</td>
<td>22100.0</td>
<td>20800.0</td>
<td>17300.0</td>
<td>29600.0</td>
<td>39400.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2015</td>
<td>8400.0</td>
<td>35900.0</td>
<td>8500.0</td>
<td>33200.0</td>
<td>13200.0</td>
<td>46900.0</td>
<td>22900.0</td>
<td>24400.0</td>
<td>34200.0</td>
<td>35300.0</td>
<td>...</td>
<td>19000.0</td>
<td>21300.0</td>
<td>15500.0</td>
<td>10700.0</td>
<td>35300.0</td>
<td>22700.0</td>
<td>21600.0</td>
<td>18600.0</td>
<td>30600.0</td>
<td>40600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2016</td>
<td>8400.0</td>
<td>36600.0</td>
<td>8900.0</td>
<td>33800.0</td>
<td>13900.0</td>
<td>46800.0</td>
<td>24900.0</td>
<td>25100.0</td>
<td>35100.0</td>
<td>36100.0</td>
<td>...</td>
<td>19300.0</td>
<td>22000.0</td>
<td>16600.0</td>
<td>11000.0</td>
<td>35000.0</td>
<td>23600.0</td>
<td>20700.0</td>
<td>18500.0</td>
<td>30700.0</td>
<td>40000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017</td>
<td>8800.0</td>
<td>37200.0</td>
<td>9200.0</td>
<td>34600.0</td>
<td>14700.0</td>
<td>46800.0</td>
<td>26400.0</td>
<td>26700.0</td>
<td>36500.0</td>
<td>38000.0</td>
<td>...</td>
<td>20300.0</td>
<td>22700.0</td>
<td>18500.0</td>
<td>11400.0</td>
<td>35700.0</td>
<td>25100.0</td>
<td>20700.0</td>
<td>19400.0</td>
<td>31700.0</td>
<td>40900.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018</td>
<td>9200.0</td>
<td>38600.0</td>
<td>9800.0</td>
<td>35600.0</td>
<td>15600.0</td>
<td>47900.0</td>
<td>27600.0</td>
<td>27900.0</td>
<td>37400.0</td>
<td>39000.0</td>
<td>...</td>
<td>21500.0</td>
<td>23700.0</td>
<td>20000.0</td>
<td>12000.0</td>
<td>36300.0</td>
<td>26500.0</td>
<td>21300.0</td>
<td>19200.0</td>
<td>32000.0</td>
<td>42300.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2019</td>
<td>9500.0</td>
<td>39400.0</td>
<td>10200.0</td>
<td>36800.0</td>
<td>16600.0</td>
<td>47900.0</td>
<td>29100.0</td>
<td>29200.0</td>
<td>37900.0</td>
<td>39500.0</td>
<td>...</td>
<td>22800.0</td>
<td>24600.0</td>
<td>21800.0</td>
<td>12800.0</td>
<td>37200.0</td>
<td>27800.0</td>
<td>22100.0</td>
<td>18500.0</td>
<td>32500.0</td>
<td>42700.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020</td>
<td>9200.0</td>
<td>37500.0</td>
<td>9900.0</td>
<td>35700.0</td>
<td>16600.0</td>
<td>46400.0</td>
<td>27100.0</td>
<td>28000.0</td>
<td>37000.0</td>
<td>39900.0</td>
<td>...</td>
<td>22900.0</td>
<td>22900.0</td>
<td>21800.0</td>
<td>12800.0</td>
<td>36800.0</td>
<td>26800.0</td>
<td>21600.0</td>
<td>18300.0</td>
<td>30000.0</td>
<td>41600.0</td>
</tr>
</tbody>
</table>

<p>16 rows × 41 columns</p>
</div>
</div>
</div>
<p>Vi kan nå “rebasere”. Vi gjør det ved å bruke pandasfunksjonen <code>div()</code>, som deler alle observasjonene på argumentet. Vi ønsker å dele på første rad (år 2005), som er <code>gdp_data.iloc[0]</code>:</p>
</section>
<section id="eksempel-29" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-29">Eksempel 29:</h4>
<div class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd4<span class="op">=</span><span class="dv">100</span><span class="op">*</span>gdp_data_fltrd3.div(gdp_data_fltrd3.iloc[<span class="dv">0</span>])</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>gdp_data_fltrd4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="97">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">AL</th>
<th data-quarto-table-cell-role="th">AT</th>
<th data-quarto-table-cell-role="th">BA</th>
<th data-quarto-table-cell-role="th">BE</th>
<th data-quarto-table-cell-role="th">BG</th>
<th data-quarto-table-cell-role="th">CH</th>
<th data-quarto-table-cell-role="th">CY</th>
<th data-quarto-table-cell-role="th">CZ</th>
<th data-quarto-table-cell-role="th">DE</th>
<th data-quarto-table-cell-role="th">DK</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">PL</th>
<th data-quarto-table-cell-role="th">PT</th>
<th data-quarto-table-cell-role="th">RO</th>
<th data-quarto-table-cell-role="th">RS</th>
<th data-quarto-table-cell-role="th">SE</th>
<th data-quarto-table-cell-role="th">SI</th>
<th data-quarto-table-cell-role="th">SK</th>
<th data-quarto-table-cell-role="th">TR</th>
<th data-quarto-table-cell-role="th">UK</th>
<th data-quarto-table-cell-role="th">US</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>...</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
<td>100.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2006</td>
<td>108.333333</td>
<td>104.181185</td>
<td>112.500000</td>
<td>102.941176</td>
<td>108.433735</td>
<td>107.988166</td>
<td>105.286344</td>
<td>104.972376</td>
<td>104.545455</td>
<td>106.071429</td>
<td>...</td>
<td>105.263158</td>
<td>105.376344</td>
<td>116.455696</td>
<td>108.000000</td>
<td>107.142857</td>
<td>104.615385</td>
<td>110.294118</td>
<td>110.204082</td>
<td>102.985075</td>
<td>101.939058</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2007</td>
<td>120.833333</td>
<td>108.362369</td>
<td>123.214286</td>
<td>106.617647</td>
<td>120.481928</td>
<td>118.047337</td>
<td>114.537445</td>
<td>114.364641</td>
<td>110.227273</td>
<td>110.000000</td>
<td>...</td>
<td>116.666667</td>
<td>109.139785</td>
<td>136.708861</td>
<td>118.666667</td>
<td>115.357143</td>
<td>111.794872</td>
<td>122.794118</td>
<td>119.387755</td>
<td>104.850746</td>
<td>104.986150</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2008</td>
<td>133.333333</td>
<td>111.846690</td>
<td>132.142857</td>
<td>108.088235</td>
<td>131.325301</td>
<td>122.781065</td>
<td>118.942731</td>
<td>119.337017</td>
<td>112.878788</td>
<td>114.285714</td>
<td>...</td>
<td>124.561404</td>
<td>111.290323</td>
<td>164.556962</td>
<td>130.666667</td>
<td>116.785714</td>
<td>117.948718</td>
<td>134.558824</td>
<td>126.530612</td>
<td>106.343284</td>
<td>104.155125</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2009</td>
<td>139.583333</td>
<td>107.665505</td>
<td>128.571429</td>
<td>104.779412</td>
<td>126.506024</td>
<td>117.751479</td>
<td>112.775330</td>
<td>115.469613</td>
<td>107.196970</td>
<td>108.928571</td>
<td>...</td>
<td>126.315789</td>
<td>107.526882</td>
<td>159.493671</td>
<td>126.666667</td>
<td>108.571429</td>
<td>106.666667</td>
<td>127.205882</td>
<td>119.387755</td>
<td>98.880597</td>
<td>98.614958</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2010</td>
<td>152.083333</td>
<td>110.801394</td>
<td>132.142857</td>
<td>110.661765</td>
<td>133.734940</td>
<td>121.597633</td>
<td>111.894273</td>
<td>116.022099</td>
<td>113.636364</td>
<td>116.071429</td>
<td>...</td>
<td>136.842105</td>
<td>110.752688</td>
<td>165.822785</td>
<td>129.333333</td>
<td>114.285714</td>
<td>108.205128</td>
<td>140.441176</td>
<td>133.673469</td>
<td>103.358209</td>
<td>101.939058</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2011</td>
<td>158.333333</td>
<td>115.331010</td>
<td>137.500000</td>
<td>112.132353</td>
<td>140.963855</td>
<td>126.627219</td>
<td>109.691630</td>
<td>119.337017</td>
<td>120.075758</td>
<td>118.214286</td>
<td>...</td>
<td>146.491228</td>
<td>106.989247</td>
<td>177.215190</td>
<td>136.000000</td>
<td>118.571429</td>
<td>110.769231</td>
<td>144.117647</td>
<td>148.979592</td>
<td>103.731343</td>
<td>103.047091</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2012</td>
<td>162.500000</td>
<td>119.512195</td>
<td>139.285714</td>
<td>114.705882</td>
<td>145.783133</td>
<td>129.881657</td>
<td>103.964758</td>
<td>119.337017</td>
<td>121.212121</td>
<td>118.214286</td>
<td>...</td>
<td>150.877193</td>
<td>104.838710</td>
<td>184.810127</td>
<td>137.333333</td>
<td>119.642857</td>
<td>109.743590</td>
<td>146.323529</td>
<td>155.102041</td>
<td>105.597015</td>
<td>105.540166</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013</td>
<td>158.333333</td>
<td>120.557491</td>
<td>142.857143</td>
<td>115.808824</td>
<td>144.578313</td>
<td>131.656805</td>
<td>96.916300</td>
<td>122.651934</td>
<td>123.106061</td>
<td>120.357143</td>
<td>...</td>
<td>151.754386</td>
<td>108.602151</td>
<td>179.746835</td>
<td>141.333333</td>
<td>119.285714</td>
<td>110.769231</td>
<td>148.529412</td>
<td>164.285714</td>
<td>107.835821</td>
<td>106.094183</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2014</td>
<td>168.750000</td>
<td>121.951220</td>
<td>144.642857</td>
<td>118.382353</td>
<td>151.807229</td>
<td>134.319527</td>
<td>95.154185</td>
<td>128.729282</td>
<td>127.651515</td>
<td>122.500000</td>
<td>...</td>
<td>157.017544</td>
<td>110.752688</td>
<td>187.341772</td>
<td>140.000000</td>
<td>120.714286</td>
<td>113.333333</td>
<td>152.941176</td>
<td>176.530612</td>
<td>110.447761</td>
<td>109.141274</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2015</td>
<td>175.000000</td>
<td>125.087108</td>
<td>151.785714</td>
<td>122.058824</td>
<td>159.036145</td>
<td>138.757396</td>
<td>100.881057</td>
<td>134.806630</td>
<td>129.545455</td>
<td>126.071429</td>
<td>...</td>
<td>166.666667</td>
<td>114.516129</td>
<td>196.202532</td>
<td>142.666667</td>
<td>126.071429</td>
<td>116.410256</td>
<td>158.823529</td>
<td>189.795918</td>
<td>114.179104</td>
<td>112.465374</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2016</td>
<td>175.000000</td>
<td>127.526132</td>
<td>158.928571</td>
<td>124.264706</td>
<td>167.469880</td>
<td>138.461538</td>
<td>109.691630</td>
<td>138.674033</td>
<td>132.954545</td>
<td>128.928571</td>
<td>...</td>
<td>169.298246</td>
<td>118.279570</td>
<td>210.126582</td>
<td>146.666667</td>
<td>125.000000</td>
<td>121.025641</td>
<td>152.205882</td>
<td>188.775510</td>
<td>114.552239</td>
<td>110.803324</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017</td>
<td>183.333333</td>
<td>129.616725</td>
<td>164.285714</td>
<td>127.205882</td>
<td>177.108434</td>
<td>138.461538</td>
<td>116.299559</td>
<td>147.513812</td>
<td>138.257576</td>
<td>135.714286</td>
<td>...</td>
<td>178.070175</td>
<td>122.043011</td>
<td>234.177215</td>
<td>152.000000</td>
<td>127.500000</td>
<td>128.717949</td>
<td>152.205882</td>
<td>197.959184</td>
<td>118.283582</td>
<td>113.296399</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018</td>
<td>191.666667</td>
<td>134.494774</td>
<td>175.000000</td>
<td>130.882353</td>
<td>187.951807</td>
<td>141.715976</td>
<td>121.585903</td>
<td>154.143646</td>
<td>141.666667</td>
<td>139.285714</td>
<td>...</td>
<td>188.596491</td>
<td>127.419355</td>
<td>253.164557</td>
<td>160.000000</td>
<td>129.642857</td>
<td>135.897436</td>
<td>156.617647</td>
<td>195.918367</td>
<td>119.402985</td>
<td>117.174515</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2019</td>
<td>197.916667</td>
<td>137.282230</td>
<td>182.142857</td>
<td>135.294118</td>
<td>200.000000</td>
<td>141.715976</td>
<td>128.193833</td>
<td>161.325967</td>
<td>143.560606</td>
<td>141.071429</td>
<td>...</td>
<td>200.000000</td>
<td>132.258065</td>
<td>275.949367</td>
<td>170.666667</td>
<td>132.857143</td>
<td>142.564103</td>
<td>162.500000</td>
<td>188.775510</td>
<td>121.268657</td>
<td>118.282548</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020</td>
<td>191.666667</td>
<td>130.662021</td>
<td>176.785714</td>
<td>131.250000</td>
<td>200.000000</td>
<td>137.278107</td>
<td>119.383260</td>
<td>154.696133</td>
<td>140.151515</td>
<td>142.500000</td>
<td>...</td>
<td>200.877193</td>
<td>123.118280</td>
<td>275.949367</td>
<td>170.666667</td>
<td>131.428571</td>
<td>137.435897</td>
<td>158.823529</td>
<td>186.734694</td>
<td>111.940299</td>
<td>115.235457</td>
</tr>
</tbody>
</table>

<p>16 rows × 41 columns</p>
</div>
</div>
</div>
<p>Vi kan nå plotte resultatet med <code>plot()</code>-funksjonen i pandas. Vi velger gjennomsiktighet 0.3 og figurstørrelse 20x10. Etikettene plasseres øverst til venstre, uten ramme og i fire kolonner:</p>
</section>
<section id="eksempel-30" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-30">Eksempel 30:</h4>
<div class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>ax<span class="op">=</span>gdp_data_fltrd4.plot(alpha<span class="op">=</span><span class="fl">0.3</span>,figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">10</span>))</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">'upper left'</span>,frameon<span class="op">=</span><span class="va">False</span>,ncol<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre><code>&lt;matplotlib.legend.Legend at 0x1843373ced0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-34-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Som nevnt har vi valgt perioden fra 2005 fordi Angela Merkel tiltrådte da. Det kan derfor være en god idé å utheve Tysklands kurve. Vi skal gjøre det ved å øke linjevidden til 5 og ta bort gjennomsiktighet (alpha=1). For at det skal være enkelt å også utheve andre land, lager vi en funksjon som uthever land med et bestemt symbol. <code>ax</code> representerer grafen, og må også være et argument, slik at funksjonen kan operere på den. Her er funksjonen:</p>
</section>
<section id="eksempel-31" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-31">Eksempel 31:</h4>
<div class="cell" data-execution_count="262">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> thick_line(symbol,ax):</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>[i._label <span class="cf">for</span> i <span class="kw">in</span> ax.lines]  <span class="co">#makes a list of symbols in the order of lines in the axis object</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    i<span class="op">=</span>labels.index(symbol)               <span class="co">#identifies at which position symbol is located</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    ax.lines[i].set_linewidth(<span class="dv">5</span>)         <span class="co">#sets the line with of the line at position i to 5 </span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    ax.lines[i].set_alpha(<span class="dv">1</span>)             <span class="co">#removes transparancy of the line at position i to 5 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Funksjonen gjør følgende: 1. Lager en liste med symbolene til linjene 2. identifiserer hvor i listen <code>symbol</code> befinner seg 3. setter linjevidden til denne linjen til 5 4. Fjerner gjennomsiktigheten til denne linjen</p>
<p>Vi kan nå plotte grafen, etter å ha uthevet linjene til ‘DE’ (Tyskland) ‘NO’ (Norge) og ‘EU28’ (EU inkludert Storbritannia):</p>
</section>
<section id="eksempel-32" class="level4">
<h4 class="anchored" data-anchor-id="eksempel-32">Eksempel 32:</h4>
<div class="cell" data-tags="[]" data-execution_count="263">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>thick_line(<span class="st">'DE'</span>,ax)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>thick_line(<span class="st">'NO'</span>,ax)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>thick_line(<span class="st">'EU28'</span>,ax)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">'upper left'</span>,frameon<span class="op">=</span><span class="va">False</span>,ncol<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>ax.figure</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="263">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-36-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="oppgaver" class="level2">
<h2 class="anchored" data-anchor-id="oppgaver">Oppgaver:</h2>
<ol type="1">
<li>Hent ut to andre selskap fra titlon, og plott dem med <code>scatter()</code>-funksjonen for å se om det er en sammenheng mellom avkastningene.</li>
</ol>
<div class="cell" data-tags="[]" data-execution_count="129">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>sql<span class="op">=</span>(<span class="st">"SELECT distinct Name,date, lnDeltaP FROM equity "</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WHERE (Name='Sbanken' OR Name='Aker BP' ) "</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AND `Date`&gt;'2000-01-01'"</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ORDER BY `Date`"</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.read_sql_query(sql, con)</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>df.pivot(index<span class="op">=</span><span class="st">'date'</span>, columns<span class="op">=</span><span class="st">'Name'</span>, values<span class="op">=</span><span class="st">'lnDeltaP'</span>)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>df.plot.scatter(<span class="st">'Aker BP'</span>, <span class="st">'Sbanken'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\esi000\AppData\Local\Temp\ipykernel_25488\3797233693.py:6: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df=pd.read_sql_query(sql, con)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="129">
<pre><code>&lt;AxesSubplot: xlabel='Aker BP', ylabel='Sbanken'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-37-output-3.png" class="img-fluid"></p>
</div>
</div>
<ol start="2" type="1">
<li>Én av setningene i Eksempel 4 vil aldri bli tilfredsstilt, uansett hva du setter som <code>animal</code>. Hvorfor?</li>
</ol>
<p><code>cats</code> er lagt til <code>mamals</code>, så det er umulgi for noe dyr å ikke være i <code>cats</code> men samtidig være i <code>mamals</code>. Derfor er den andre <code>elif</code>-setningen aldri tilfredstilt.</p>
<ol start="3" type="1">
<li>I eksempel 6, hva skjer om du fjerner <code>or edu&gt;10</code> fra koden? Forklar.</li>
</ol>
<ul>
<li><em>Med <code>or edu&gt;10</code> tas også BNP_per_capita under 20 000 med, dersom utdannelse er over 10</em></li>
</ul>
<ol start="4" type="1">
<li>Hent data for et annet selskap (valgfritt) fra titlon.uit.no, og velg to andre variabler enn i Eksempel 17, og plott dem mot hverandre.</li>
</ol>
<div class="cell" data-tags="[]" data-execution_count="179">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>sql<span class="op">=</span>(<span class="st">"SELECT distinct Name,date, mktcap,PE,LIQ from equity "</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WHERE (Name='Biotec Pharmacon' ) "</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AND `Date`&gt;'2000-01-01'"</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ORDER BY `Date`"</span>)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.read_sql_query(sql, con)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'lmktcap'</span>] <span class="op">=</span> np.log(df[<span class="st">'mktcap'</span>])</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'10*LIQ'</span>] <span class="op">=</span> <span class="dv">300</span><span class="op">*</span>df[<span class="st">'LIQ'</span>]</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>df.plot(<span class="st">'date'</span>,[<span class="st">'lmktcap'</span>,<span class="st">'PE'</span>,<span class="st">'10*LIQ'</span>] , ylim<span class="op">=</span>(<span class="op">-</span><span class="dv">100</span>, <span class="dv">30</span>) )</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\esi000\AppData\Local\Temp\ipykernel_25488\1810833590.py:6: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df=pd.read_sql_query(sql, con)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="179">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">mktcap</th>
<th data-quarto-table-cell-role="th">PE</th>
<th data-quarto-table-cell-role="th">LIQ</th>
<th data-quarto-table-cell-role="th">lmktcap</th>
<th data-quarto-table-cell-role="th">10*LIQ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Biotec Pharmacon</td>
<td>2005-11-04</td>
<td>5.372250e+08</td>
<td>-78.8761</td>
<td>-0.006871</td>
<td>20.101928</td>
<td>-2.061216</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Biotec Pharmacon</td>
<td>2005-11-07</td>
<td>5.049920e+08</td>
<td>-74.1436</td>
<td>0.006790</td>
<td>20.040053</td>
<td>2.037036</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Biotec Pharmacon</td>
<td>2005-11-08</td>
<td>4.684600e+08</td>
<td>-68.7800</td>
<td>-0.004358</td>
<td>19.964961</td>
<td>-1.307466</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Biotec Pharmacon</td>
<td>2005-11-09</td>
<td>4.792050e+08</td>
<td>-70.3575</td>
<td>0.013341</td>
<td>19.987639</td>
<td>4.002450</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Biotec Pharmacon</td>
<td>2005-11-10</td>
<td>4.942470e+08</td>
<td>-72.5660</td>
<td>-0.001847</td>
<td>20.018546</td>
<td>-0.554190</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3635</td>
<td>Biotec Pharmacon</td>
<td>2020-11-23</td>
<td>3.373760e+09</td>
<td>-445.3220</td>
<td>-0.000805</td>
<td>21.939294</td>
<td>-0.241403</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3636</td>
<td>Biotec Pharmacon</td>
<td>2020-11-24</td>
<td>3.132090e+09</td>
<td>-413.4220</td>
<td>0.004827</td>
<td>21.864966</td>
<td>1.448235</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3637</td>
<td>Biotec Pharmacon</td>
<td>2020-11-25</td>
<td>3.306090e+09</td>
<td>-436.3900</td>
<td>0.010409</td>
<td>21.919032</td>
<td>3.122580</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3638</td>
<td>Biotec Pharmacon</td>
<td>2020-11-26</td>
<td>3.267420e+09</td>
<td>-431.2860</td>
<td>-0.018074</td>
<td>21.907267</td>
<td>-5.422260</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3639</td>
<td>Biotec Pharmacon</td>
<td>2020-11-27</td>
<td>3.325430e+09</td>
<td>-438.9420</td>
<td>-0.011508</td>
<td>21.924865</td>
<td>-3.452370</td>
</tr>
</tbody>
</table>

<p>3640 rows × 7 columns</p>
</div>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-38-output-3.png" class="img-fluid"></p>
</div>
</div>
<ol start="5" type="1">
<li>Hent en tabell om strømpris i eurostat, og lag en tilsvarende graf som i Eksempel 31 og 32 for den. Gjør slik:
<ol type="1">
<li>Sjekk hvilke tabeller som er tilgjengelig med <code>toc[['Electricity' in i for i in toc['title']]]</code> og finn koden i feltet ‘code’ til tabellen ‘Electricity prices for household consumers - bi-annual data (from 2007 onwards)’.</li>
<li>Hent tabellen som har denne koden</li>
<li>Gjør følgende filtrering:</li>
</ol></li>
</ol>
<pre><code> el_data = el_data[((el_data['tax']=='I_TAX')
         &amp;(el_data['currency']=='EUR')
         &amp;(el_data['nrg_cons']=='KWH5000-14999'))]</code></pre>
<div class="cell" data-tags="[]" data-execution_count="276">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> eurostat</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>toc <span class="op">=</span> eurostat.get_toc_df()</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>toc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="276">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">code</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">last update of data</th>
<th data-quarto-table-cell-role="th">last table structure change</th>
<th data-quarto-table-cell-role="th">data start</th>
<th data-quarto-table-cell-role="th">data end</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_NL</td>
<td>dataset</td>
<td>2010-02-26T23:00:00+0100</td>
<td>2023-07-28T23:00:00+0200</td>
<td>1997-Q1</td>
<td>2022-Q4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_NO</td>
<td>dataset</td>
<td>2010-02-26T23:00:00+0100</td>
<td>2023-07-28T23:00:00+0200</td>
<td>2002-Q1</td>
<td>2021-Q4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_PL</td>
<td>dataset</td>
<td>2023-09-12T11:00:00+0200</td>
<td>2023-09-12T11:00:00+0200</td>
<td>2004-Q1</td>
<td>2023-Q1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_PT</td>
<td>dataset</td>
<td>2023-09-19T11:00:00+0200</td>
<td>2023-09-19T11:00:00+0200</td>
<td>2000-Q1</td>
<td>2023-Q1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Passengers (excluding cruise passengers) trans...</td>
<td>MAR_PA_QM_SE</td>
<td>dataset</td>
<td>2010-02-26T23:00:00+0100</td>
<td>2023-07-28T23:00:00+0200</td>
<td>1997-Q1</td>
<td>2022-Q4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7545</td>
<td>Percentage of letters delivered on-time (USP u...</td>
<td>POST_CUBE1_X$POST_QOS_1</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7546</td>
<td>Postal services</td>
<td>POST_CUBE1_X</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>2012</td>
<td>2021</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7547</td>
<td>Number of enterprises providing postal services</td>
<td>POST_CUBE1_X$NUM701</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7548</td>
<td>Access points (USP under direct or indirect d...</td>
<td>POST_CUBE1_X$POST_ACC_1</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7549</td>
<td>Domestic postal traffic, letter mail and parce...</td>
<td>POST_CUBE1_X$POST_DTR_1</td>
<td>dataset</td>
<td>2023-05-23T08:18:37Z</td>
<td>2023-05-10T10:54:33Z</td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>

<p>7550 rows × 7 columns</p>
</div>
</div>
</div>
<p>Finner alle tabeller med ‘electricity’ i seg:</p>
<div class="cell" data-tags="[]" data-execution_count="277">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>toc[[<span class="st">'electricity prices'</span> <span class="kw">in</span> i.lower() <span class="cf">for</span> i <span class="kw">in</span> toc[<span class="st">'title'</span>]]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="277">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">code</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">last update of data</th>
<th data-quarto-table-cell-role="th">last table structure change</th>
<th data-quarto-table-cell-role="th">data start</th>
<th data-quarto-table-cell-role="th">data end</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">609</td>
<td>Electricity prices for household consumers - b...</td>
<td>NRG_PC_204</td>
<td>dataset</td>
<td>2023-10-17T11:00:00+0200</td>
<td>2023-10-03T23:00:00+0200</td>
<td>2007-S1</td>
<td>2023-S1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">611</td>
<td>Electricity prices components for household co...</td>
<td>NRG_PC_204_C</td>
<td>dataset</td>
<td>2023-10-10T23:00:00+0200</td>
<td>2023-06-02T23:00:00+0200</td>
<td>2017</td>
<td>2022</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">613</td>
<td>Electricity prices for domestic consumers - bi...</td>
<td>NRG_PC_204_H</td>
<td>dataset</td>
<td>2021-05-28T23:00:00+0200</td>
<td>2021-05-28T23:00:00+0200</td>
<td>1985-S1</td>
<td>2007-S2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">617</td>
<td>Electricity prices for non-household consumers...</td>
<td>NRG_PC_205</td>
<td>dataset</td>
<td>2023-10-17T11:00:00+0200</td>
<td>2023-10-03T23:00:00+0200</td>
<td>2007-S1</td>
<td>2023-S1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">619</td>
<td>Electricity prices components for non-househol...</td>
<td>NRG_PC_205_C</td>
<td>dataset</td>
<td>2023-10-10T23:00:00+0200</td>
<td>2023-06-02T23:00:00+0200</td>
<td>2017</td>
<td>2022</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">621</td>
<td>Electricity prices for industrial consumers - ...</td>
<td>NRG_PC_205_H</td>
<td>dataset</td>
<td>2021-05-28T23:00:00+0200</td>
<td>2021-05-28T23:00:00+0200</td>
<td>1985-S1</td>
<td>2007-S2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4291</td>
<td>Electricity prices by type of user</td>
<td>TEN00117</td>
<td>dataset</td>
<td>2023-10-17T11:00:00+0200</td>
<td>2023-10-17T11:00:00+0200</td>
<td>2011</td>
<td>2022</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Koden for relevante data er ‘NRG_PC_205’:</p>
<div class="cell" data-tags="[]" data-execution_count="278">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>el_data <span class="op">=</span> eurostat.get_data_df(<span class="st">'NRG_PC_204'</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>el_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="278">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">freq</th>
<th data-quarto-table-cell-role="th">product</th>
<th data-quarto-table-cell-role="th">nrg_cons</th>
<th data-quarto-table-cell-role="th">unit</th>
<th data-quarto-table-cell-role="th">tax</th>
<th data-quarto-table-cell-role="th">currency</th>
<th data-quarto-table-cell-role="th">geo\TIME_PERIOD</th>
<th data-quarto-table-cell-role="th">2007-S1</th>
<th data-quarto-table-cell-role="th">2007-S2</th>
<th data-quarto-table-cell-role="th">2008-S1</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">2018-S2</th>
<th data-quarto-table-cell-role="th">2019-S1</th>
<th data-quarto-table-cell-role="th">2019-S2</th>
<th data-quarto-table-cell-role="th">2020-S1</th>
<th data-quarto-table-cell-role="th">2020-S2</th>
<th data-quarto-table-cell-role="th">2021-S1</th>
<th data-quarto-table-cell-role="th">2021-S2</th>
<th data-quarto-table-cell-role="th">2022-S1</th>
<th data-quarto-table-cell-role="th">2022-S2</th>
<th data-quarto-table-cell-role="th">2023-S1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>S</td>
<td>6000</td>
<td>KWH1000-2499</td>
<td>KWH</td>
<td>I_TAX</td>
<td>EUR</td>
<td>AL</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>0.0910</td>
<td>0.0920</td>
<td>0.0933</td>
<td>0.0922</td>
<td>0.0920</td>
<td>0.0925</td>
<td>0.0937</td>
<td>0.0941</td>
<td>0.0976</td>
<td>0.1010</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>S</td>
<td>6000</td>
<td>KWH1000-2499</td>
<td>KWH</td>
<td>I_TAX</td>
<td>EUR</td>
<td>AT</td>
<td>NaN</td>
<td>0.2008</td>
<td>0.2005</td>
<td>...</td>
<td>0.2411</td>
<td>0.2426</td>
<td>0.2453</td>
<td>0.2511</td>
<td>0.2567</td>
<td>0.2650</td>
<td>0.2787</td>
<td>0.2616</td>
<td>0.2614</td>
<td>0.2988</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>S</td>
<td>6000</td>
<td>KWH1000-2499</td>
<td>KWH</td>
<td>I_TAX</td>
<td>EUR</td>
<td>BA</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>0.0977</td>
<td>0.0979</td>
<td>0.0980</td>
<td>0.0975</td>
<td>0.1007</td>
<td>0.0980</td>
<td>0.0970</td>
<td>0.0996</td>
<td>0.1003</td>
<td>0.1043</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>S</td>
<td>6000</td>
<td>KWH1000-2499</td>
<td>KWH</td>
<td>I_TAX</td>
<td>EUR</td>
<td>BE</td>
<td>NaN</td>
<td>0.1867</td>
<td>0.2172</td>
<td>...</td>
<td>0.3180</td>
<td>0.3075</td>
<td>0.3099</td>
<td>0.2998</td>
<td>0.2938</td>
<td>0.2910</td>
<td>0.3161</td>
<td>0.3633</td>
<td>0.4586</td>
<td>0.4559</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>S</td>
<td>6000</td>
<td>KWH1000-2499</td>
<td>KWH</td>
<td>I_TAX</td>
<td>EUR</td>
<td>BG</td>
<td>NaN</td>
<td>0.0721</td>
<td>0.0731</td>
<td>...</td>
<td>0.1004</td>
<td>0.1003</td>
<td>0.0994</td>
<td>0.1017</td>
<td>0.1021</td>
<td>0.1045</td>
<td>0.1104</td>
<td>0.1110</td>
<td>0.1147</td>
<td>0.1145</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2191</td>
<td>S</td>
<td>6000</td>
<td>TOT_KWH</td>
<td>KWH</td>
<td>X_VAT</td>
<td>PPS</td>
<td>RS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.1309</td>
<td>0.1307</td>
<td>0.1420</td>
<td>0.1497</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2192</td>
<td>S</td>
<td>6000</td>
<td>TOT_KWH</td>
<td>KWH</td>
<td>X_VAT</td>
<td>PPS</td>
<td>SE</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0983</td>
<td>0.1029</td>
<td>0.1046</td>
<td>0.1248</td>
<td>0.1068</td>
<td>0.1330</td>
<td>0.1465</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2193</td>
<td>S</td>
<td>6000</td>
<td>TOT_KWH</td>
<td>KWH</td>
<td>X_VAT</td>
<td>PPS</td>
<td>SI</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.1583</td>
<td>0.1299</td>
<td>0.1915</td>
<td>0.1964</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2194</td>
<td>S</td>
<td>6000</td>
<td>TOT_KWH</td>
<td>KWH</td>
<td>X_VAT</td>
<td>PPS</td>
<td>SK</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.1678</td>
<td>0.1847</td>
<td>0.1959</td>
<td>0.1919</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2195</td>
<td>S</td>
<td>6000</td>
<td>TOT_KWH</td>
<td>KWH</td>
<td>X_VAT</td>
<td>PPS</td>
<td>TR</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.1836</td>
<td>0.2987</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>2196 rows × 40 columns</p>
</div>
</div>
</div>
<p>Vi ser på pris inkludert skatt i Euro i intervallet 5000-14999:</p>
<div class="cell" data-tags="[]" data-execution_count="279">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>el_data_fltrd <span class="op">=</span> el_data[((el_data[<span class="st">'tax'</span>]<span class="op">==</span><span class="st">'I_TAX'</span>)<span class="op">&amp;</span>(el_data[<span class="st">'currency'</span>]<span class="op">==</span><span class="st">'EUR'</span>)<span class="op">&amp;</span>(el_data[<span class="st">'nrg_cons'</span>]<span class="op">==</span><span class="st">'KWH5000-14999'</span>))]</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>unwanted<span class="op">=</span>el_data_fltrd[<span class="st">'geo</span><span class="ch">\\</span><span class="st">TIME_PERIOD'</span>].isin([<span class="st">'EA18'</span>,<span class="st">'EA19'</span>,<span class="st">'EU27_2007'</span>,<span class="st">'EU27_2020'</span>,<span class="st">'EA18'</span>,<span class="st">'EA18'</span>])</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2 <span class="op">=</span> el_data_fltrd[unwanted<span class="op">==</span><span class="va">False</span>]</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2 <span class="op">=</span> el_data_fltrd2.rename(columns<span class="op">=</span>{<span class="st">'geo</span><span class="ch">\\</span><span class="st">TIME_PERIOD'</span>:<span class="st">'country'</span>})</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2 <span class="op">=</span> el_data_fltrd2.set_index(<span class="st">'country'</span>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2 <span class="op">=</span> el_data_fltrd2.iloc[:,<span class="dv">6</span>:]</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2 <span class="op">=</span> el_data_fltrd2.transpose()</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2 <span class="op">=</span> <span class="dv">100</span><span class="op">*</span>el_data_fltrd2.div(gdp_data_fltrd3.iloc[<span class="dv">0</span>])</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>el_data_fltrd2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="279">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">AL</th>
<th data-quarto-table-cell-role="th">AT</th>
<th data-quarto-table-cell-role="th">BA</th>
<th data-quarto-table-cell-role="th">BE</th>
<th data-quarto-table-cell-role="th">BG</th>
<th data-quarto-table-cell-role="th">CH</th>
<th data-quarto-table-cell-role="th">CY</th>
<th data-quarto-table-cell-role="th">CZ</th>
<th data-quarto-table-cell-role="th">DE</th>
<th data-quarto-table-cell-role="th">DK</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RO</th>
<th data-quarto-table-cell-role="th">RS</th>
<th data-quarto-table-cell-role="th">SE</th>
<th data-quarto-table-cell-role="th">SI</th>
<th data-quarto-table-cell-role="th">SK</th>
<th data-quarto-table-cell-role="th">TR</th>
<th data-quarto-table-cell-role="th">UA</th>
<th data-quarto-table-cell-role="th">UK</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">XK</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2007-S1</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.000445</td>
<td>0.000715</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>0.000496</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2007-S2</td>
<td>NaN</td>
<td>0.000562</td>
<td>NaN</td>
<td>0.000596</td>
<td>0.000857</td>
<td>NaN</td>
<td>0.000694</td>
<td>0.000458</td>
<td>0.000755</td>
<td>0.000759</td>
<td>...</td>
<td>0.001454</td>
<td>NaN</td>
<td>0.000525</td>
<td>0.000524</td>
<td>0.000807</td>
<td>0.000919</td>
<td>NaN</td>
<td>0.000500</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2008-S1</td>
<td>NaN</td>
<td>0.000571</td>
<td>NaN</td>
<td>0.000650</td>
<td>0.000851</td>
<td>NaN</td>
<td>0.000786</td>
<td>0.000572</td>
<td>0.000753</td>
<td>0.000837</td>
<td>...</td>
<td>0.001320</td>
<td>NaN</td>
<td>0.000530</td>
<td>0.000547</td>
<td>0.000876</td>
<td>0.001018</td>
<td>NaN</td>
<td>0.000506</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2008-S2</td>
<td>NaN</td>
<td>0.000577</td>
<td>NaN</td>
<td>0.000715</td>
<td>0.000986</td>
<td>NaN</td>
<td>0.000926</td>
<td>0.000583</td>
<td>0.000772</td>
<td>0.000891</td>
<td>...</td>
<td>0.001396</td>
<td>NaN</td>
<td>0.000540</td>
<td>0.000560</td>
<td>0.000957</td>
<td>0.001247</td>
<td>NaN</td>
<td>0.000521</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2009-S1</td>
<td>NaN</td>
<td>0.000606</td>
<td>NaN</td>
<td>0.000626</td>
<td>0.000980</td>
<td>NaN</td>
<td>0.000708</td>
<td>0.000598</td>
<td>0.000804</td>
<td>0.000858</td>
<td>...</td>
<td>0.001191</td>
<td>NaN</td>
<td>0.000490</td>
<td>0.000649</td>
<td>0.001091</td>
<td>0.001167</td>
<td>NaN</td>
<td>0.000488</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2009-S2</td>
<td>NaN</td>
<td>0.000611</td>
<td>NaN</td>
<td>0.000605</td>
<td>0.000992</td>
<td>NaN</td>
<td>0.000729</td>
<td>0.000630</td>
<td>0.000810</td>
<td>0.000807</td>
<td>...</td>
<td>0.001195</td>
<td>NaN</td>
<td>0.000509</td>
<td>0.000631</td>
<td>0.001146</td>
<td>0.001203</td>
<td>NaN</td>
<td>0.000466</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2010-S1</td>
<td>NaN</td>
<td>0.000618</td>
<td>NaN</td>
<td>0.000637</td>
<td>0.000980</td>
<td>NaN</td>
<td>0.000795</td>
<td>0.000608</td>
<td>0.000848</td>
<td>0.000824</td>
<td>...</td>
<td>0.001280</td>
<td>NaN</td>
<td>0.000569</td>
<td>0.000655</td>
<td>0.000999</td>
<td>0.001369</td>
<td>NaN</td>
<td>0.000462</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2010-S2</td>
<td>NaN</td>
<td>0.000611</td>
<td>NaN</td>
<td>0.000649</td>
<td>0.001002</td>
<td>NaN</td>
<td>0.000884</td>
<td>0.000629</td>
<td>0.000868</td>
<td>0.000838</td>
<td>...</td>
<td>0.001314</td>
<td>NaN</td>
<td>0.000607</td>
<td>0.000668</td>
<td>0.001072</td>
<td>0.001402</td>
<td>NaN</td>
<td>0.000488</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2011-S1</td>
<td>0.002400</td>
<td>0.000629</td>
<td>NaN</td>
<td>0.000709</td>
<td>0.000992</td>
<td>NaN</td>
<td>0.000877</td>
<td>0.000683</td>
<td>0.000909</td>
<td>0.000907</td>
<td>...</td>
<td>0.001351</td>
<td>NaN</td>
<td>0.000643</td>
<td>0.000683</td>
<td>0.001104</td>
<td>0.001238</td>
<td>NaN</td>
<td>0.000473</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2011-S2</td>
<td>0.002410</td>
<td>0.000621</td>
<td>NaN</td>
<td>0.000688</td>
<td>0.001045</td>
<td>NaN</td>
<td>0.001052</td>
<td>0.000670</td>
<td>0.000918</td>
<td>0.000931</td>
<td>...</td>
<td>0.001370</td>
<td>NaN</td>
<td>0.000630</td>
<td>0.000698</td>
<td>0.001133</td>
<td>0.001164</td>
<td>NaN</td>
<td>0.000527</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2012-S1</td>
<td>0.002423</td>
<td>0.000622</td>
<td>0.001309</td>
<td>0.000711</td>
<td>0.000994</td>
<td>NaN</td>
<td>0.001194</td>
<td>0.000698</td>
<td>0.000934</td>
<td>0.000937</td>
<td>...</td>
<td>0.001327</td>
<td>NaN</td>
<td>0.000608</td>
<td>0.000720</td>
<td>0.001120</td>
<td>0.001339</td>
<td>NaN</td>
<td>0.000556</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2012-S2</td>
<td>0.002431</td>
<td>0.000639</td>
<td>0.001323</td>
<td>0.000719</td>
<td>0.001164</td>
<td>NaN</td>
<td>0.001278</td>
<td>0.000699</td>
<td>0.000963</td>
<td>0.000930</td>
<td>...</td>
<td>0.001362</td>
<td>NaN</td>
<td>0.000636</td>
<td>0.000721</td>
<td>0.001129</td>
<td>0.001505</td>
<td>NaN</td>
<td>0.000602</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-S1</td>
<td>0.002408</td>
<td>0.000658</td>
<td>0.001312</td>
<td>0.000727</td>
<td>0.001114</td>
<td>NaN</td>
<td>0.001192</td>
<td>0.000714</td>
<td>0.001054</td>
<td>0.000810</td>
<td>...</td>
<td>0.001651</td>
<td>0.000755</td>
<td>0.000630</td>
<td>0.000737</td>
<td>0.001101</td>
<td>0.001522</td>
<td>NaN</td>
<td>0.000585</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-S2</td>
<td>0.002404</td>
<td>0.000645</td>
<td>0.001327</td>
<td>0.000734</td>
<td>0.001076</td>
<td>NaN</td>
<td>0.001091</td>
<td>0.000698</td>
<td>0.001052</td>
<td>0.000793</td>
<td>...</td>
<td>0.001587</td>
<td>0.000815</td>
<td>0.000627</td>
<td>0.000755</td>
<td>0.001112</td>
<td>0.001339</td>
<td>NaN</td>
<td>0.000617</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2014-S1</td>
<td>0.002408</td>
<td>0.000644</td>
<td>0.001325</td>
<td>0.000693</td>
<td>0.001005</td>
<td>NaN</td>
<td>0.000984</td>
<td>0.000610</td>
<td>0.001072</td>
<td>0.000822</td>
<td>...</td>
<td>0.001589</td>
<td>0.000813</td>
<td>0.000581</td>
<td>0.000742</td>
<td>0.000983</td>
<td>0.001216</td>
<td>NaN</td>
<td>0.000644</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2014-S2</td>
<td>0.002417</td>
<td>0.000632</td>
<td>0.001327</td>
<td>0.000658</td>
<td>0.001059</td>
<td>NaN</td>
<td>0.001037</td>
<td>0.000606</td>
<td>0.001071</td>
<td>0.000820</td>
<td>...</td>
<td>0.001562</td>
<td>0.000796</td>
<td>0.000574</td>
<td>0.000745</td>
<td>0.000997</td>
<td>0.001344</td>
<td>NaN</td>
<td>0.000678</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2015-S1</td>
<td>0.001692</td>
<td>0.000620</td>
<td>0.001339</td>
<td>0.000708</td>
<td>0.001128</td>
<td>NaN</td>
<td>0.000839</td>
<td>0.000604</td>
<td>0.001061</td>
<td>0.000823</td>
<td>...</td>
<td>0.001627</td>
<td>0.000777</td>
<td>0.000553</td>
<td>0.000716</td>
<td>0.000965</td>
<td>0.001384</td>
<td>NaN</td>
<td>0.000715</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2015-S2</td>
<td>0.001706</td>
<td>0.000611</td>
<td>0.001354</td>
<td>0.000774</td>
<td>0.001158</td>
<td>NaN</td>
<td>0.000810</td>
<td>0.000614</td>
<td>0.001059</td>
<td>0.000811</td>
<td>...</td>
<td>0.001651</td>
<td>0.000861</td>
<td>0.000553</td>
<td>0.000732</td>
<td>0.000971</td>
<td>0.001243</td>
<td>NaN</td>
<td>0.000752</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2016-S1</td>
<td>0.001717</td>
<td>0.000624</td>
<td>0.001364</td>
<td>0.000857</td>
<td>0.001141</td>
<td>NaN</td>
<td>0.000648</td>
<td>0.000625</td>
<td>0.001065</td>
<td>0.000869</td>
<td>...</td>
<td>0.001534</td>
<td>0.000849</td>
<td>0.000554</td>
<td>0.000721</td>
<td>0.000923</td>
<td>0.001293</td>
<td>NaN</td>
<td>0.000671</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2016-S2</td>
<td>0.001740</td>
<td>0.000615</td>
<td>0.001386</td>
<td>0.000919</td>
<td>0.001128</td>
<td>NaN</td>
<td>0.000712</td>
<td>0.000625</td>
<td>0.001068</td>
<td>0.000865</td>
<td>...</td>
<td>0.001533</td>
<td>0.000872</td>
<td>0.000577</td>
<td>0.000728</td>
<td>0.000983</td>
<td>0.001228</td>
<td>NaN</td>
<td>0.000637</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-S1</td>
<td>0.001758</td>
<td>0.000596</td>
<td>0.001420</td>
<td>0.000951</td>
<td>0.001141</td>
<td>NaN</td>
<td>0.000796</td>
<td>0.000631</td>
<td>0.001089</td>
<td>0.000856</td>
<td>...</td>
<td>0.001494</td>
<td>0.000881</td>
<td>0.000557</td>
<td>0.000717</td>
<td>0.000896</td>
<td>0.001070</td>
<td>NaN</td>
<td>0.000592</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2017-S2</td>
<td>0.001783</td>
<td>0.000606</td>
<td>0.001425</td>
<td>0.000960</td>
<td>0.001190</td>
<td>NaN</td>
<td>0.000802</td>
<td>0.000654</td>
<td>0.001089</td>
<td>0.000836</td>
<td>...</td>
<td>0.001596</td>
<td>0.000924</td>
<td>0.000587</td>
<td>0.000717</td>
<td>0.000914</td>
<td>0.000978</td>
<td>NaN</td>
<td>0.000628</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-S1</td>
<td>NaN</td>
<td>0.000600</td>
<td>0.001430</td>
<td>0.000948</td>
<td>0.001172</td>
<td>NaN</td>
<td>0.000792</td>
<td>0.000672</td>
<td>0.001059</td>
<td>0.000866</td>
<td>...</td>
<td>0.001651</td>
<td>0.000931</td>
<td>0.000566</td>
<td>0.000711</td>
<td>0.000984</td>
<td>0.000918</td>
<td>NaN</td>
<td>0.000637</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018-S2</td>
<td>0.001896</td>
<td>0.000616</td>
<td>0.001446</td>
<td>0.000987</td>
<td>0.001218</td>
<td>NaN</td>
<td>0.000933</td>
<td>0.000683</td>
<td>0.001063</td>
<td>0.000914</td>
<td>...</td>
<td>0.001629</td>
<td>0.000944</td>
<td>0.000630</td>
<td>0.000730</td>
<td>0.000937</td>
<td>0.000870</td>
<td>NaN</td>
<td>0.000689</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2019-S1</td>
<td>0.001917</td>
<td>0.000622</td>
<td>0.001436</td>
<td>0.000954</td>
<td>0.001194</td>
<td>NaN</td>
<td>0.000945</td>
<td>0.000753</td>
<td>0.001089</td>
<td>0.000854</td>
<td>...</td>
<td>0.001720</td>
<td>0.000932</td>
<td>0.000606</td>
<td>0.000721</td>
<td>0.001001</td>
<td>0.000864</td>
<td>NaN</td>
<td>0.000715</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2019-S2</td>
<td>0.001944</td>
<td>0.000638</td>
<td>0.001455</td>
<td>0.000966</td>
<td>0.001131</td>
<td>NaN</td>
<td>0.000958</td>
<td>0.000771</td>
<td>0.001002</td>
<td>0.000832</td>
<td>...</td>
<td>0.001818</td>
<td>0.000964</td>
<td>0.000621</td>
<td>0.000745</td>
<td>0.001018</td>
<td>0.001061</td>
<td>NaN</td>
<td>0.000753</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2020-S1</td>
<td>0.001921</td>
<td>0.000647</td>
<td>0.001454</td>
<td>0.000943</td>
<td>0.001159</td>
<td>NaN</td>
<td>0.000919</td>
<td>0.000782</td>
<td>0.001084</td>
<td>0.000798</td>
<td>...</td>
<td>0.001849</td>
<td>0.000976</td>
<td>0.000545</td>
<td>0.000673</td>
<td>0.001094</td>
<td>0.001016</td>
<td>NaN</td>
<td>0.000754</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2020-S2</td>
<td>0.001917</td>
<td>0.000667</td>
<td>0.001498</td>
<td>0.000915</td>
<td>0.001149</td>
<td>NaN</td>
<td>0.000719</td>
<td>0.000763</td>
<td>0.001061</td>
<td>0.000707</td>
<td>...</td>
<td>0.001823</td>
<td>0.000981</td>
<td>0.000591</td>
<td>0.000757</td>
<td>0.001124</td>
<td>0.000834</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2021-S1</td>
<td>0.001927</td>
<td>0.000677</td>
<td>0.001463</td>
<td>0.000926</td>
<td>0.001192</td>
<td>NaN</td>
<td>0.000841</td>
<td>0.000767</td>
<td>0.001108</td>
<td>0.000665</td>
<td>...</td>
<td>0.001911</td>
<td>0.001051</td>
<td>0.000605</td>
<td>0.000730</td>
<td>0.001076</td>
<td>0.000847</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2021-S2</td>
<td>0.001952</td>
<td>0.000697</td>
<td>0.001439</td>
<td>0.001051</td>
<td>0.001308</td>
<td>NaN</td>
<td>0.000985</td>
<td>0.000925</td>
<td>0.001114</td>
<td>0.000858</td>
<td>...</td>
<td>0.001992</td>
<td>0.001075</td>
<td>0.000752</td>
<td>0.000753</td>
<td>0.001055</td>
<td>0.000801</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2022-S1</td>
<td>0.001960</td>
<td>0.000696</td>
<td>0.001484</td>
<td>0.001228</td>
<td>0.001304</td>
<td>NaN</td>
<td>0.001119</td>
<td>0.001094</td>
<td>0.001134</td>
<td>0.001227</td>
<td>...</td>
<td>0.002944</td>
<td>0.001063</td>
<td>0.000632</td>
<td>0.000623</td>
<td>0.001174</td>
<td>0.001016</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2022-S2</td>
<td>0.002033</td>
<td>0.000776</td>
<td>0.001496</td>
<td>0.001631</td>
<td>0.001387</td>
<td>NaN</td>
<td>0.001452</td>
<td>0.001062</td>
<td>0.001152</td>
<td>0.001756</td>
<td>...</td>
<td>0.004241</td>
<td>0.001161</td>
<td>0.000814</td>
<td>0.000886</td>
<td>0.001237</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2023-S1</td>
<td>0.002104</td>
<td>0.000909</td>
<td>0.001543</td>
<td>0.001532</td>
<td>0.001364</td>
<td>NaN</td>
<td>0.001615</td>
<td>0.001462</td>
<td>0.001458</td>
<td>0.001303</td>
<td>...</td>
<td>0.004558</td>
<td>0.001288</td>
<td>0.000775</td>
<td>0.000884</td>
<td>0.001231</td>
<td>0.001016</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>33 rows × 47 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="280">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>ax<span class="op">=</span>el_data_fltrd2.plot(alpha<span class="op">=</span><span class="fl">0.3</span>,figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">10</span>))</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">'upper left'</span>,frameon<span class="op">=</span><span class="va">False</span>,ncol<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="280">
<pre><code>&lt;matplotlib.legend.Legend at 0x18439b5fe90&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-43-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="281">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> thick_line(symbol,ax):</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>[i._label <span class="cf">for</span> i <span class="kw">in</span> ax.lines]  <span class="co">#makes a list of symbols in the order of lines in the axis object</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    i<span class="op">=</span>labels.index(symbol)               <span class="co">#identifies at which position symbol is located</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    ax.lines[i].set_linewidth(<span class="dv">5</span>)         <span class="co">#sets the line with of the line at position i to 5 </span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    ax.lines[i].set_alpha(<span class="dv">1</span>)             <span class="co">#removes transparancy of the line at position i to 5 </span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>thick_line(<span class="st">'DE'</span>,ax)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>thick_line(<span class="st">'NO'</span>,ax)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>thick_line(<span class="st">'EU28'</span>,ax)</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">'upper left'</span>,frameon<span class="op">=</span><span class="va">False</span>,ncol<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>ax.figure</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="281">
<p><img src="6%20-%20pandas,%20filtrering,%20logikk%20og%20betingelser_files/figure-html/cell-44-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="forrige-neste" class="level5">
<h5 class="anchored" data-anchor-id="forrige-neste"><a href="5%20-%20sympy.ipynb">&lt; Forrige</a> | <a href="7%20-%20løkker%20og%20simulering.ipynb">Neste &gt;</a></h5>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>